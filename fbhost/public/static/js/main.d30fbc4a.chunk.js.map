{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","components/Menu.tsx","components/ExploreContainer.tsx","pages/Page.tsx","components/MainTabs.tsx","reducers/Address.ts","reducers/Cart.ts","reducers/CartAction.ts","components/CurrencyAmount.tsx","components/ItemList.tsx","components/Payment.tsx","components/ShopHeader.tsx","components/ShopConditionAndOperatingHours.tsx","components/Address.tsx","pages/Checkout.tsx","components/MainHeader.tsx","pages/Dashboard.tsx","components/CartTotal.tsx","containers/Cart.tsx","services/FirebaseStorage.tsx","containers/CategoryItem.tsx","components/OrderDayShopHeader.tsx","containers/ShopMain.tsx","pages/OrderComplete.tsx","pages/Login.tsx","services/Stripe.tsx","containers/ShopItem.tsx","components/GoBack.tsx","components/MarketHeader.tsx","containers/MarketItems.tsx","containers/ShopSelectionList.tsx","pages/ShopSelection.tsx","reducers/ShopAction.ts","containers/Market.tsx","pages/ApplePay.tsx","services/FirebaseAuth.tsx","App.tsx","serviceWorker.ts","services/FirebaseIniti.ts","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","appPages","title","url","iosIcon","rocketOutline","mdIcon","labels","Menu","location","useLocation","firebase","useFirebase","history","useHistory","useState","userPhoto","setUserPhoto","auth","useSelector","state","console","log","useEffect","isLoaded","isEmpty","clear","photoURL","contentId","type","side","lines","displayName","src","email","appPage","index","key","autoHide","className","pathname","routerLink","routerDirection","detail","slot","icon","label","bookmarkOutline","onClick","a","menuController","toggle","logout","push","ExploreContainer","name","target","rel","href","Page","useParams","hifreshdata","values","upload_categories","i","forEach","img_url","load_order","obj","useFirestoreConnect","collection","markets","firestore","data","ordered","Markets","length","tmarket","getFirebase","doc","add","docRef","new_category_id","item","产品","unit_price","售出单价","unit","规格","store_name","category_id","category_name","get","snapshot","update","result","collapse","size","cfaSignIn","subscribe","user","MainTabs","tab","happy","cartSharp","heartCircle","informationCircle","INITIAL_STATE","address1","address2","suburb","postcode","phone","addressReducer","action","payload","cartItemList","cart","total","format","num","minDecimals","maxDecimals","toLocaleString","minimumFractionDigits","maximumFractionDigits","cartReducer","x","parseFloat","toString","filter","newlist","shopReducer","shop","combineReducers","firebaseReducer","address","addCartAction","newItem","CurrencyAmount","amount","localAmount","undefined","currency","ItemList","dispatch","useDispatch","cartListWithQty","cartListArray","cartlistitemqty","cartItem","count","style","textAlign","cartWithQty","fill","color","closeOutline","flexDirection","justifyContent","paddingRight","width","Payment","payment","onChange","backgroundColor","paddingTop","paddingBottom","paddingLeft","value","onIonChange","chevronForwardOutline","ShopHeader","loadedShop","free_delivery_conditions","ShopConditionAndOperatingHours","cut_off_terms","AddressForm","onAddressChange","position","placeholder","required","isValidAddress1","isValidNumber","Checkout","db","addressObj","setAddress","aggreement","setAggreement","paymentType","setPaymentType","setInvoiceId","setInvoice","showLoading","setShowLoading","cartState","setCartState","opening_hour","store_address","support_postcodes","service_offering","shopState","setShop","mapStateToProps","CartItemList","connect","ShopHeaderWithShop","EnhancedCondition","writeUserData","my_auth","json_auth","JSON","parse","stringify","providerId","providerData","display_name","payment_detail","contact_mobile","photo_url","uid","invoice","user_id","market_id","market_name","total_amount","platform_charges","cutoff_terms","delivery_date","order_date","status","payment_status","cart_total_cost_inc_GST","cart_items","batch_id","payment_type","set","response","error","res","catch","err","handleComplete","alert","closehandler","goBack","class","checked","isOpen","onDidDismiss","message","duration","MainHeader","Dashboard","setPostCode","elements","document","querySelectorAll","fullscreen","autofocus","inputMode","CartTotal","Cart","modal","EnhancedCartTotal","expand","FirestoreIonImg","downloadUrl","setDownloadUrl","storage","startsWith","imgref","refFromURL","getDownloadURL","CategoryItem","category","OrderDayShopHeader","ellipsisHorizontalCircleOutline","ShopMain","showModal","setShowModal","Categories","CartCounter","categoryName","market","imageUrl","basket","hidden","invoice_id","cartItems","storeAs","invoiceStore","Invoice","element","ele","qty","existedItem","text-center","Login","getPlatforms","isPlatform","login","provider","pipe","mapUserToUserInfo","onAuthStateChanged","auth1","auth2","phoneNumber","logoFacebook","logoGoogle","shape","StripeComponent","Stripe","setPublishableKey","createCardToken","number","expMonth","expYear","cvc","ShopItem","logined","setLogin","heartOutline","favorites","setFavorites","addFavorites","writeData","item_id","heart","checkFavorite","writing","where","empty","delete","padding","float","addCart","withRouter","chevronBackOutline","MarketHeader","MarketItems","subcollections","dataStore","Market","ShopSelectionList","shops","handleShopClick","alt","ShopSelection","marketList","includes","setCurrentShop","profile","stateStore","ApplePay","stripe","useStripe","useElements","pr","paymentRequest","country","requestPayerName","requestPayerEmail","canMakePayment","payWithStripe","cardElement","getElement","CardElement","createPaymentMethod","card","paymentMethod","onSubmit","ProtectedRoute","props","currentLocation","isAuthenticated","redirectPath","authenticationPath","isAllowed","component","to","render","App","defaultProtectedRouteProps","restrictedPath","path","exact","OrderComplete","animated","cname","from","Boolean","window","hostname","match","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","enableRedirectHandling","rootReducer","firestoreReducer","firebaseStore","createStore","rrfProps","config","userProfile","presence","sessions","createFirestoreInstance","stripePromise","loadStripe","ReactDOM","store","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"uLAAA,IAAIA,EAAM,CACT,kCAAmC,CAClC,IACA,IAED,iCAAkC,CACjC,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,iCAAkC,CACjC,IACA,IAED,gCAAiC,CAChC,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,gCAAiC,CAChC,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,qBAAsB,CACrB,IACA,IAED,uCAAwC,CACvC,IACA,IAED,sCAAuC,CACtC,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,mCAAoC,CACnC,IACA,IAED,kCAAmC,CAClC,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,kCAAmC,CAClC,IACA,IAED,iCAAkC,CACjC,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,iCAAkC,CACjC,IACA,IAED,gCAAiC,CAChC,IACA,IAED,+BAAg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","file":"static/js/main.d30fbc4a.chunk.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t507,\n\t\t29\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t508,\n\t\t30\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t509,\n\t\t31\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t510,\n\t\t32\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t511,\n\t\t13\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t512,\n\t\t14\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t513,\n\t\t33\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t514,\n\t\t34\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t515,\n\t\t35\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t516,\n\t\t36\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t517,\n\t\t79\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t518,\n\t\t80\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t519,\n\t\t37\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t520,\n\t\t38\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t521,\n\t\t39\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t522,\n\t\t40\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t523,\n\t\t41\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t524,\n\t\t42\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t525,\n\t\t43\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t526,\n\t\t44\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t527,\n\t\t81\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t528,\n\t\t19\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t529,\n\t\t20\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t530,\n\t\t45\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t531,\n\t\t46\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t532,\n\t\t82\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t533,\n\t\t83\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t534,\n\t\t84\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t535,\n\t\t47\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t536,\n\t\t48\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t537,\n\t\t49\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t538,\n\t\t50\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t539,\n\t\t51\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t540,\n\t\t52\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t541,\n\t\t53\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t542,\n\t\t54\n\t],\n\t\"./ion-menu_3-ios.entry.js\": [\n\t\t543,\n\t\t55\n\t],\n\t\"./ion-menu_3-md.entry.js\": [\n\t\t544,\n\t\t56\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t545,\n\t\t15\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t546,\n\t\t16\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t547,\n\t\t25\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t548,\n\t\t17\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t549,\n\t\t18\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t550,\n\t\t57\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t551,\n\t\t58\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t552,\n\t\t59\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t553,\n\t\t60\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t554,\n\t\t61\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t555,\n\t\t62\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t556,\n\t\t63\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t557,\n\t\t64\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t558,\n\t\t27\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t559,\n\t\t28\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t560,\n\t\t85\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t561,\n\t\t65\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t562,\n\t\t66\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t563,\n\t\t67\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t564,\n\t\t68\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t565,\n\t\t69\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t566,\n\t\t70\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t567,\n\t\t71\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t568,\n\t\t86\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t569,\n\t\t87\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t570,\n\t\t23\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t571,\n\t\t88\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t572,\n\t\t89\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t573,\n\t\t72\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t574,\n\t\t73\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t575,\n\t\t26\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t576,\n\t\t74\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t577,\n\t\t75\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t578,\n\t\t76\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t579,\n\t\t77\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t580,\n\t\t78\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t581,\n\t\t21\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t582,\n\t\t22\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t583,\n\t\t90\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 286;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t587,\n\t\t93\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 288;\nmodule.exports = webpackAsyncContext;","import {\n  IonContent,\n  IonIcon,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonListHeader,\n  IonMenu,\n  IonMenuToggle,\n  IonNote,\n  IonAvatar,\n  IonImg,\n  IonFooter\n} from \"@ionic/react\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport {\n  bookmarkOutline,\n  rocketOutline\n} from \"ionicons/icons\";\nimport \"./Menu.css\";\nimport { AppPage, RootState } from \"../model/DomainModels\";\nimport { useFirebase, isLoaded, isEmpty } from \"react-redux-firebase\";\nimport { useSelector } from \"react-redux\";\nimport { UserInfo } from \"@firebase/auth-types\";\nimport { menuController } from \"@ionic/core\";\n// import firebase from \"firebase\";\n\nconst appPages: AppPage[] = [\n  {\n    title: \"My Profile\",\n    url: \"/page/MyProfile\",\n    iosIcon: rocketOutline,\n    mdIcon: rocketOutline\n  },\n  {\n    title: \"Check Out\",\n    url: \"/page/checkout\",\n    iosIcon: rocketOutline,\n    mdIcon: rocketOutline\n  },\n  {\n    title: \"Apple Pay\",\n    url: \"/page/applepay\",\n    iosIcon: rocketOutline,\n    mdIcon: rocketOutline\n  }\n\n  // {\n  //   title: 'Outbox',\n  //   url: '/page/Outbox',\n  //   iosIcon: paperPlaneOutline,\n  //   mdIcon: paperPlaneSharp\n  // },\n  // {\n  //   title: 'Favorites',\n  //   url: '/page/Favorites',\n  //   iosIcon: heartOutline,\n  //   mdIcon: heartSharp\n  // },\n  // {\n  //   title: 'Archived',\n  //   url: '/page/Archived',\n  //   iosIcon: archiveOutline,\n  //   mdIcon: archiveSharp\n  // },\n  // {\n  //   title: 'Trash',\n  //   url: '/page/Trash',\n  //   iosIcon: trashOutline,\n  //   mdIcon: trashSharp\n  // },\n  // {\n  //   title: 'Spam',\n  //   url: '/page/Spam',\n  //   iosIcon: warningOutline,\n  //   mdIcon: warningSharp\n  // }\n];\n\nconst labels = [\"#11321\", \"#21322\", \"#43211\"];\n\nconst Menu: React.FC = () => {\n  const location = useLocation();\n  const firebase = useFirebase();\n  const history = useHistory();\n  const [userPhoto, setUserPhoto] = useState(\"\");\n  const auth: UserInfo = useSelector<RootState>(\n    state => state.firebase.auth\n  ) as UserInfo;\n  console.log(auth);\n\n  useEffect(() => {\n    if (isLoaded(auth) && !isEmpty(auth)) {\n      console.clear();\n      // console.log(\"User Logged in and user is:==\" + JSON.stringify(auth));\n      // history.push(\"/\");\n    }\n    setUserPhoto(auth.photoURL as string);\n  }, [auth, auth.photoURL]);\n\n  function handleSignOut() {\n    setUserPhoto(\"\");\n    firebase.logout().then(() => {\n      history.push(\"/\");\n    });\n  }\n  return (\n    <IonMenu contentId=\"main\" type=\"overlay\" side=\"end\">\n      <IonContent>\n        <IonList id=\"inbox-list\">\n          <IonListHeader>\n            <IonItem lines=\"none\">{auth.displayName}</IonItem>\n            <IonAvatar>\n              {userPhoto ? <IonImg src={userPhoto}></IonImg> : <p></p>}\n            </IonAvatar>\n          </IonListHeader>\n          <IonNote>{auth.email}</IonNote>\n          {appPages.map((appPage, index) => {\n            return (\n              <IonMenuToggle key={index} autoHide={false}>\n                <IonItem\n                  className={\n                    location.pathname === appPage.url ? \"selected\" : \"\"\n                  }\n                  routerLink={appPage.url}\n                  routerDirection=\"none\"\n                  lines=\"none\"\n                  detail={false}\n                >\n                  <IonIcon slot=\"start\" icon={appPage.iosIcon} />\n                  <IonLabel>{appPage.title}</IonLabel>\n                </IonItem>\n              </IonMenuToggle>\n            );\n          })}\n        </IonList>\n\n        <IonList id=\"labels-list\">\n          <IonListHeader>Previous Orders</IonListHeader>\n          {labels.map((label, index) => (\n            <IonItem lines=\"none\" key={index}>\n              <IonIcon slot=\"start\" icon={bookmarkOutline} />\n              <IonLabel>{label}</IonLabel>\n            </IonItem>\n          ))}\n        </IonList>\n        <IonFooter onClick={async () => await menuController.toggle()}>\n          {isLoaded(auth) && !isEmpty(auth) ? (\n            <IonItem onClick={handleSignOut}>Sign Out</IonItem>\n          ) : (\n              <IonItem routerLink=\"/login\" routerDirection=\"none\" detail={false} >Sign In</IonItem>\n            )\n          }\n        </IonFooter>\n      </IonContent>\n    </IonMenu>\n  );\n};\n\nexport default Menu;","import React from \"react\";\nimport \"./ExploreContainer.css\";\nimport { ContainerProps } from \"../model/ComponentProps\";\n\nconst ExploreContainer: React.FC<ContainerProps> = ({ name }) => {\n  return (\n    <div className=\"container\">\n      <strong>{name}</strong>\n      <p>\n        Explore{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://ionicframework.com/docs/components\"\n        >\n          UI Components\n        </a>\n      </p>\n    </div>\n  );\n};\n\nexport default ExploreContainer;\n","import {\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonMenuButton,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonButton\n} from \"@ionic/react\";\nimport React from \"react\";\nimport { useParams } from \"react-router\";\nimport ExploreContainer from \"../components/ExploreContainer\";\nimport \"./Page.css\";\nimport {\n  useFirestoreConnect,\n  FirestoreReducer,\n  getFirebase\n} from \"react-redux-firebase\";\nimport { useSelector } from \"react-redux\";\nimport \"firebase/firestore\";\nimport hifreshdata from \"../data/hmarketitems.json\";\nimport { Categories, Markets, RootState } from \"../model/DomainModels\";\nimport { cfaSignIn } from \"capacitor-firebase-auth\";\nimport { User } from \"@firebase/auth-types\";\n\ninterface testprop {\n  market: Markets;\n  doc: string;\n}\n\nconst Page: React.FC = () => {\n  const { name } = useParams<{ name: string }>();\n\n  console.log(hifreshdata);\n  var keys = Object.keys(hifreshdata);\n  var values = Object.values(hifreshdata);\n\n  console.log(keys);\n\n  var upload_categories = [] as Categories[];\n\n  var i = 0;\n  keys.forEach(key => {\n    upload_categories.push({\n      id: i,\n      img_url: \"\",\n      name: key,\n\n      load_order: 0\n    });\n    i++;\n  });\n\n  console.log(values[0]);\n  values[0].forEach(obj => {\n    console.log(obj);\n  });\n  useFirestoreConnect([{ collection: \"Markets\" }]);\n\n  const markets = useSelector<RootState>(\n    state => state.firestore\n  ) as FirestoreReducer.Reducer;\n\n  console.log(markets.data);\n\n  var market = {} as Markets;\n  console.log(\"Categories\");\n  console.log(markets.data);\n  if (markets.ordered.Markets && markets.ordered.Markets.length > 0) {\n    markets.ordered.Markets.map(tmarket => {\n      console.log(tmarket.name);\n      market = tmarket;\n      return market;\n    });\n  }\n\n  function googleLoginHandler() {\n    cfaSignIn(\"google.com\").subscribe((user: User) =>\n      console.log(user.displayName)\n    );\n    return \"\";\n  }\n  // const TestComponent = compose(\n  //   firestoreConnect(() => [\"Markets\"]), // or { collection: 'todos' }\n  //   connect((state, props) => ({\n  //     markets: state\n  //   }))\n  // )(Test);\n\n  function CreateMarket() {\n    const firebase = getFirebase();\n    // const firestore = getFirestore(firebase);\n    // firebase\n    //   .firestore()\n    //   .collection(\"Markets\")\n    //   .add(test_market)\n    //   .then(() => {\n    //     console.log(\"Add Completed\");\n    //   });\n\n    // keys.forEach((key, index) => {\n    //   upload_categories.push({\n    //     id: i,\n    //     img_url: \"\",\n    //     name: key\n    //   });\n    //   i++;\n    // });\n    var i = 0;\n    keys.forEach(key => {\n      firebase\n        .firestore()\n        .collection(\"Markets\")\n        .doc(\"FtSvVlEa4G4xHduMnf2l\")\n        .collection(\"Categories\")\n        .add({\n          img_url: \"\",\n          name: key,\n          load_order: i\n        })\n        .then(docRef => {\n          console.log(docRef);\n          var new_category_id = docRef.id;\n          console.log(\"Add Categories Completed\");\n\n          values[i].forEach(item => {\n            firebase\n              .firestore()\n              .collection(\"Markets\")\n              .doc(\"FtSvVlEa4G4xHduMnf2l\")\n              .collection(\"Categories\")\n              .doc(new_category_id)\n              .collection(\"Items\")\n              .add({\n                name: item.产品,\n                unit_price: item.售出单价,\n                unit: item.规格,\n                img_url: \"\",\n                store_name: \"\",\n                category_id: new_category_id,\n                category_name: key\n              })\n              .then(() => {\n                console.log(\"Added Items to category\");\n              });\n          });\n          i++;\n        });\n    });\n  }\n\n  function copyMarkets() {\n    const firebase = getFirebase();\n    const targetID = \"FtSvVlEa4G4xHduMnf2l\";\n    const sourceID = \"LX7x6b4dEkXvjRWb0rNK\";\n\n    firebase\n      .firestore()\n      .collection(\"Markets\")\n      .doc(sourceID)\n      .get()\n      .then(snapshot => {\n\n        console.log(snapshot.data());\n        firebase\n          .firestore()\n          .collection(\"Markets\")\n          .doc(targetID)\n          .update({ ...snapshot.data() })\n          .then(result => {\n            console.log(\"update successfully\");\n            console.log(result);\n          });\n      });\n  }\n\n  console.log(\"entering page\");\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>{name}</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      {/* <FirestoreIonImg src=\"gs://slashiee.appspot.com/hifresh/categories/y2637HMBAxuFpC89igEL/organic_apple.png\" /> */}\n      <IonContent>\n        {/* <Test doc={doc_id} market={market} /> */}\n        <IonButton onClick={CreateMarket}>Test Creat Market</IonButton>\n        <IonButton onClick={copyMarkets}>Copy HiFresh Market</IonButton>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">{name}</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonButton onClick={googleLoginHandler}> Google Login </IonButton>\n        <ExploreContainer name={name} />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Page;\n","import React from \"react\";\nimport {\n  IonTabs,\n  IonTabBar,\n  IonTabButton,\n  IonIcon,\n  IonLabel,\n  IonBadge} from \"@ionic/react\";\nimport {\n  informationCircle,\n  happy,\n  cartSharp,\n  heartCircle\n} from \"ionicons/icons\";\nimport { MainTabsProps } from \"../model/ComponentProps\";\n\nconst MainTabs: React.FC<MainTabsProps> = () => {\n  // const defaultProtectedRouteProps = getDefaultProtectedRouteProps();\n\n  return (\n    <IonTabs>\n      <IonTabBar slot=\"bottom\" >\n        <IonTabButton tab=\"today\" href=\"/tabs/dashboard\">\n          <IonIcon icon={happy} />\n          <IonLabel>Today</IonLabel>\n          <IonBadge>6</IonBadge>\n        </IonTabButton>\n\n        <IonTabButton tab=\"market\" href=\"/tabs/shop_selections/\">\n          <IonIcon icon={cartSharp} />\n          <IonLabel>Market</IonLabel>\n        </IonTabButton>\n\n        <IonTabButton tab=\"slashiee\">\n          <IonIcon icon={heartCircle} />\n          <IonLabel>My List</IonLabel>\n        </IonTabButton>\n\n        <IonTabButton tab=\"about\">\n          <IonIcon icon={informationCircle} />\n          <IonLabel>About</IonLabel>\n        </IonTabButton>\n      </IonTabBar>\n    </IonTabs>\n  );\n};\n\nexport default MainTabs;\n","import { AddressObj } from \"../model/DomainModels\";\n\nexport const INITIAL_STATE = {\n  address1: \"\",\n  address2: \"\",\n  suburb: \"\",\n  state: \"\",\n  postcode: \"\",\n  phone: \"\",\n  email: \"\"\n} as AddressObj;\n\nexport const ADD_ADDRESS1 = \"ADD_ADDRESS1\";\nexport const ADD_ADDRESS2 = \"ADD_ADDRESS2\";\nexport const ADD_SUBURB = \"ADD_SUBURB\";\nexport const ADD_STATE = \"ADD_STATE\";\nexport const ADD_PHONE = \"ADD_PHONE\";\nexport const ADD_POSTCODE = \"ADD_POSTCODE\";\nexport const ADD_EMAIL = \"ADD_EMAIL\";\n\nexport const addressReducer = (state = INITIAL_STATE, action: any) => {\n  // export default function cartReducer(state = INITIAL_STATE, action: any) {\n  switch (action.type) {\n    case ADD_ADDRESS1:\n      return {\n        ...state,\n        address1: action.payload\n      };\n    case ADD_ADDRESS2:\n      return {\n        ...state,\n        address2: action.payload\n      };\n    case ADD_SUBURB:\n      return {\n        ...state,\n        suburb: action.payload\n      };\n    case ADD_STATE:\n      return {\n        ...state,\n        state: action.payload\n      };\n    case ADD_POSTCODE:\n      return {\n        ...state,\n        postcode: action.payload\n      };\n    case ADD_PHONE:\n      return {\n        ...state,\n        phone: action.payload\n      };\n    case ADD_EMAIL:\n      return {\n        ...state,\n        email: action.payload\n      };\n    default:\n      return state;\n  }\n};\n\nexport default addressReducer;\n","import { FirebaseReducer, firebaseReducer } from \"react-redux-firebase\";\nimport { combineReducers, Reducer } from \"redux\";\nimport { CartStateType, ShopStateType } from \"../model/DomainModels\";\nimport addressReducer from \"./Address\";\n\nexport const INITIAL_STATE = {\n  cartItemList: [],\n  cart: {\n    total: 0.0\n  }\n} as CartStateType;\n\nexport const ADD_ITEM = \"ADD_ITEM\";\nexport const DEL_ITEM = \"DEL_ITEM\";\nexport const DEL_ITEM_GROUP = \"DEL_ITEM_GROUP\";\nexport const SET_CURRENT_SHOP = \"SET_CURRENT_SHOP\";\n\nconst format = (num:any, minDecimals:number,maxDecimals:number) => num.toLocaleString('en-US', {\n  minimumFractionDigits: minDecimals,      \n  maximumFractionDigits: maxDecimals,\n});\n\nexport const cartReducer = (state = INITIAL_STATE, action: any) => {\n  var x = 0;\n  // export default function cartReducer(state = INITIAL_STATE, action: any) {\n  switch (action.type) {\n    case ADD_ITEM:\n      // console.log(\"adding\");\n      return {\n        cartItemList: [...state.cartItemList, action.payload],\n        cart: {\n          total: (format((parseFloat(state.cart.total.toString()) +\n            parseFloat(action.payload.unit_price)),\n            // (format((parseFloat(state.cart.total.toString()) + parseFloat(action.payload.unit_price)),0,2) % 1>0)?2:0,\n            2,\n            2))\n        }\n      };\n    case DEL_ITEM:\n      return {\n        cartItemList: [\n          ...state.cartItemList\n            .map(obj => {\n              if (x === 0 && obj.id === action.payload.id) {\n                x = 1;\n                return null;\n              }\n              return obj;\n            })\n            .filter(obj => obj != null)\n        ],\n        cart: {\n          total: (format((parseFloat(state.cart.total.toString()) -\n            parseFloat(action.payload.unit_price)),\n            // (format((parseFloat(state.cart.total.toString()) - parseFloat(action.payload.unit_price)),0,2) % 1>0)?2:0,\n            2,\n            2))\n        }\n      };\n    case DEL_ITEM_GROUP:\n      var total = 0;\n      var newlist = state.cartItemList\n        .map(obj => {\n          if (obj.id === action.payload.id) {\n            return null;\n          }\n          total =  format(total + (obj.unit_price ? (parseFloat(obj.unit_price.toString())) : 0),2,2);\n          // if(total %1>0){\n          //   format(total,2,2);\n          // }else{\n          //   format(total,0,2);\n          // }\n          return obj;\n        })\n        .filter(obj => obj != null);\n      return {\n        cartItemList: [...newlist],\n        cart: {\n          total: total\n        }\n      };\n    default:\n      return state;\n  }\n};\n\n// Optional: If you use the user profile option\ninterface Profile {\n  name: string;\n  email: string;\n}\n\n// Optional: You can define the schema of your Firebase Redux store.\n// This will give you type-checking for state.firebase.data.todos and state.firebase.ordered.todos\ninterface Schema {\n  markets: Market;\n}\n\n// If you have a todos collection, you might have this type\ninterface Market {\n  id: string;\n  name: string;\n}\n\n// with both reducer types\ninterface RootState {\n  firebase: FirebaseReducer.Reducer<Profile, Schema>;\n  cart: Reducer<CartStateType>;\n  shop: Reducer<ShopStateType>;\n}\n\nexport const shopReducer = (state = { shop: {} }, action: any) => {\n  switch (action.type) {\n    case SET_CURRENT_SHOP:\n      return action.payload;\n    default:\n      return state;\n  }\n};\nconst rootReducer = combineReducers({\n  firebase: firebaseReducer,\n  cart: cartReducer,\n  shop: shopReducer,\n  address: addressReducer\n});\n\nexport default rootReducer;\n","import { ADD_ITEM, DEL_ITEM, DEL_ITEM_GROUP } from \"./Cart\";\nimport { ItemObj } from \"../model/DomainModels\";\n\nexport function addCartAction(newItem: ItemObj) {\n  return {\n    type: ADD_ITEM,\n    payload: newItem\n  };\n}\n\nexport function delCartAction(newItem: ItemObj) {\n  return {\n    type: DEL_ITEM,\n    payload: newItem\n  };\n}\nexport function delItemGroup(newItem: ItemObj) {\n  return {\n    type: DEL_ITEM_GROUP,\n    payload: newItem\n  };\n}\n\n","import React from \"react\";\nimport { IonItem, IonLabel, IonText } from \"@ionic/react\";\nimport { CurrencyAmountProps } from \"../model/ComponentProps\";\nimport { isLoaded } from \"react-redux-firebase\";\n\n\nconst CurrencyAmount: React.FC<CurrencyAmountProps> = ({ amount }) => {\n\n  const format = (num: any, minDecimals: number, maxDecimals: number) => num.toLocaleString('en-US', {\n    minimumFractionDigits: minDecimals,\n    maximumFractionDigits: maxDecimals,\n  });\n\n  var localAmount: any = 0.00\n  var currency: any = \"$\"\n\n  if (isLoaded(amount)) {\n    if (amount && amount != undefined) {\n      localAmount = format(amount,2, 2);\n      // if(localAmount % 1> 0){\n      //   localAmount = format(localAmount,0, 2);\n      // }\n    } \n    // else {\n    //   localAmount = amount;\n    // }\n  }\n\n  return (\n    <IonText>{currency + \" \" + localAmount}</IonText>\n  );\n};\n\nexport default CurrencyAmount;\n","import React from \"react\";\nimport {\n  IonButton,\n  IonIcon,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonButtons,\n  IonItem\n} from \"@ionic/react\";\nimport { closeOutline } from \"ionicons/icons\";\nimport { CartWithQty, ItemObj } from \"../model/DomainModels\";\nimport {\n  addCartAction,\n  delCartAction,\n  delItemGroup\n} from \"../reducers/CartAction\";\nimport { useDispatch } from \"react-redux\";\nimport { CartState } from \"../services/FirebaseIniti\";\nimport CurrencyAmount from \"./CurrencyAmount\";\n\nconst ItemList: React.FC<CartState> = ({ cart }) => {\n  const dispatch = useDispatch();\n  const cartListWithQty: CartWithQty[] = [];\n  const cartListArray: Array<CartWithQty> = [];\n\n  console.log(cart.cartItemList);\n  cart.cartItemList.map(cartItem => {\n    if (cartListWithQty[cartItem.id] == null) {\n      cartListWithQty[cartItem.id] = {\n        key: cartItem.id,\n        item: cartItem,\n        count: 0\n      };\n    }\n    if (cartListWithQty[cartItem.id].count === 0) {\n      cartListWithQty[cartItem.id].count = 1;\n    } else {\n      cartListWithQty[cartItem.id].count++;\n    }\n    return {};\n  });\n  console.log(cartListWithQty);\n\n  for (var cartlistitemqty in cartListWithQty) {\n    cartListArray.push(cartListWithQty[cartlistitemqty]);\n    console.log(cartlistitemqty);\n  }\n  function addCart(cartItem: ItemObj) {\n    dispatch(addCartAction(cartItem));\n  }\n  function delCart(cartItem: ItemObj) {\n    dispatch(delCartAction(cartItem));\n  }\n\n  return (\n    <IonGrid>\n      <IonRow>\n        <IonCol size=\"1.7\"></IonCol>\n        <IonCol size=\"4\"></IonCol>\n        <IonCol size=\"3\" style={{ textAlign: \"center\" }}>Qty</IonCol>\n        <IonCol size=\"3\" style={{ textAlign: \"right\" }}>Total</IonCol>\n      </IonRow>\n      {cartListArray.map((cartWithQty, index) => {\n        return (\n          <IonRow key={index}>\n            <IonCol size=\"1.7\">\n              <IonButton\n                size=\"small\"\n                fill=\"clear\"\n                onClick={() => {\n                  dispatch(delItemGroup(cartWithQty.item));\n                }}\n              >\n                <IonIcon slot=\"icon-only\" color=\"danger\" icon={closeOutline} />\n              </IonButton>\n            </IonCol>\n            <IonCol size=\"4\">\n              <IonItem lines=\"none\">{cartWithQty.item.name}</IonItem>\n            </IonCol>\n            <IonCol size=\"3\">\n              <IonButtons style={{ flexDirection: \"row\", justifyContent: \"space-around\" }}>\n                <IonButton\n                  fill=\"outline\"\n                  onClick={() => {\n                    delCart(cartWithQty.item);\n                  }}\n                >\n                  -\n                </IonButton>\n                {cartWithQty.count}\n                <IonButton\n                  fill=\"outline\"\n                  onClick={() => {\n                    addCart(cartWithQty.item);\n                  }}\n                >\n                  +\n                </IonButton>\n              </IonButtons>\n            </IonCol>\n            <IonCol size=\"3\" style={{ textAlign: \"right\", paddingRight: 0 }}>\n              <IonItem lines=\"none\" >\n                <p style={{ textAlign: \"right\", width: \"100%\" }}><CurrencyAmount amount={cartWithQty.item.unit_price} /></p>\n              </IonItem>\n            </IonCol>\n          </IonRow>\n        );\n      })}\n    </IonGrid>\n  );\n};\n\nexport default ItemList;\n","import React from \"react\";\nimport { IonItem, IonItemDivider, IonIcon, IonRadioGroup, IonRadio, IonLabel, IonList } from \"@ionic/react\";\nimport { PaymentProps } from \"../model/ComponentProps\";\nimport { chevronForwardOutline } from 'ionicons/icons';\n\nconst Payment: React.FC<PaymentProps> = ({ payment, onChange }) => {\n  return (\n    <IonList>\n      <IonItemDivider style={{ backgroundColor: \"#f7f7f7\", paddingTop: 10, paddingBottom: 10 }}>\n        <IonIcon slot=\"start\" src=\"assets/icon/1x/SVG/credit-card.svg\"></IonIcon>\n        <IonLabel color=\"primary\" style={{ paddingLeft: 10 }}>HOW TO PAY?</IonLabel>\n      </IonItemDivider>\n      <IonRadioGroup value={payment} onIonChange={e => onChange(e.detail.value)}>\n\n        <IonItem lines=\"none\">\n          <IonRadio slot=\"start\" value=\"direct_debit\"></IonRadio>\n          <IonLabel>\n            <p>Direct Debit</p>\n            <p>Bank Account number XXXX 1234</p>\n          </IonLabel>\n          <IonIcon slot=\"end\" color=\"primary\" icon={chevronForwardOutline}></IonIcon>\n        </IonItem>\n        <IonItem lines=\"none\">\n          <IonRadio slot=\"start\" value=\"visa_master\"></IonRadio>\n          <IonLabel>\n            <p>Debit or Credit card XXXX 4321</p>\n          </IonLabel>\n          <IonIcon slot=\"end\" color=\"primary\" icon={chevronForwardOutline}></IonIcon>\n        </IonItem>\n        <IonItem lines=\"none\">\n          <IonRadio slot=\"start\" value=\"paypal\"></IonRadio>\n          <IonLabel>\n            <p>Paypal</p>\n          </IonLabel>\n        </IonItem>\n        <IonItem lines=\"none\">\n          <IonRadio slot=\"start\" value=\"cod\"></IonRadio>\n          <IonLabel><p>Cash on Delivery</p></IonLabel>\n        </IonItem>\n      </IonRadioGroup>\n    </IonList>\n  );\n};\n\nexport default Payment;\n","import React from \"react\";\nimport \"./ExploreContainer.css\";\nimport {\n  IonItem,\n  IonCol,\n  IonRow,\n  IonGrid,\n  IonText,\n  IonImg\n} from \"@ionic/react\";\nimport { ShopHeaderProps } from \"../model/ComponentProps\";\nimport { Markets } from \"../model/DomainModels\";\nimport { isLoaded } from \"react-redux-firebase\";\n\nconst ShopHeader: React.FC<ShopHeaderProps> = ({ shop }) => {\n  var loadedShop = {} as Markets;\n\n  if (isLoaded(shop)) {\n    loadedShop = shop.shop;\n  }\n\n  console.log(loadedShop);\n\n  return (\n    <IonGrid>\n      <IonRow>\n        <IonCol size=\"4\">\n          <IonImg src={loadedShop.img_url as string}></IonImg>\n        </IonCol>\n        <IonCol size=\"7.8\" style={{}}>\n          <IonImg className=\"category_payments\" src=\"/assets/img/payments.png\"></IonImg>\n          <IonItem lines=\"none\">\n            <IonText style={{ textAlign: \"right\" }}>{loadedShop.free_delivery_conditions}</IonText>\n          </IonItem>\n        </IonCol>\n      </IonRow>\n    </IonGrid>\n  );\n};\n\nexport default ShopHeader;\n","import React from \"react\";\nimport { IonItem } from \"@ionic/react\";\nimport { ShopHeaderProps } from \"../model/ComponentProps\";\nimport { Markets } from \"../model/DomainModels\";\nimport { isLoaded } from \"react-redux-firebase\";\n\n\nconst ShopConditionAndOperatingHours: React.FC<ShopHeaderProps> = ({ shop }) => {\n\n  var loadedShop = {} as Markets;\n\n  if (isLoaded(shop)) {\n    loadedShop = shop.shop;\n  }\n  return (\n    <IonItem lines=\"none\" className=\"checkout_conditions\">\n      <p>{loadedShop.free_delivery_conditions}\n        <br />\n        {loadedShop.cut_off_terms}</p>\n    </IonItem>\n  );\n};\n\nexport default ShopConditionAndOperatingHours;\n","import React, { } from \"react\";\nimport {\n  IonItem,\n  IonInput,\n  IonLabel,\n  IonList, IonIcon,\n  IonItemDivider\n} from \"@ionic/react\";\nimport { AddressProps } from \"../model/ComponentProps\";\n\nconst AddressForm: React.FC<AddressProps> = ({ address, onAddressChange }) => {\n  // const dispatch = useDispatch();\n  // const address = {} as AddressObj;\n  // let address1 = {\n  //   address1: address.address1,\n  //   address2: address.address2,\n  //   suburb: address.suburb,\n  //   state: address.state,\n  //   postcode: address.postcode,\n  //   phone: address.phone,\n  //   email: address.email\n  // }\n  // useEffect(() => {\n  //   var possibleAddresses = fetchAddressFinder(address.address1);\n  //   console.log(possibleAddresses);\n  // }, [address]);\n\n  // console.log(address);\n  return (\n    <IonList>\n      <IonItemDivider style={{ backgroundColor: \"#f7f7f7\", paddingTop: 10, paddingBottom: 10 }}>\n        <IonIcon slot=\"start\" src=\"assets/icon/1x/SVG/delivery.svg\"></IonIcon>\n        <IonLabel color=\"primary\" style={{ paddingLeft: 10 }}>WHERE TO?</IonLabel>\n      </IonItemDivider>\n      <IonItem style={{ paddingRight: 16 }}>\n        <IonLabel id=\"contact_name\" color=\"medium\" position=\"floating\">\n          Contact Name\n        </IonLabel>\n        <IonInput placeholder=\"e.g. John\" required={true}\n          onIonChange={e => {\n            console.log(e);\n            onAddressChange({ ...address, name: e.detail.value })\n          }}></IonInput>\n      </IonItem>\n      <IonItem style={{ paddingRight: 16 }}>\n        <IonLabel id=\"address_line_1\" color={(address && !address?.isValidAddress1) ? \"danger\" : \"medium\"} position=\"floating\">\n          Address Line 1 *\n        </IonLabel>\n        <IonInput placeholder=\"e.g. Level 3A, Levy walk\" required={true}\n          onIonChange={e => {\n            console.log(e);\n            onAddressChange({ ...address, address1: e.detail.value, isValidAddress1: true })\n          }}></IonInput>\n      </IonItem>\n      <IonItem style={{ paddingRight: 16 }}>\n        <IonLabel id=\"address_line_2\" color=\"medium\" position=\"floating\">\n          Address Line 2\n        </IonLabel>\n        <IonInput placeholder=\"e.g. Buildings\"\n          onIonChange={e => {\n            onAddressChange({ ...address, address2: e.detail.value })\n          }}></IonInput>\n      </IonItem>\n      <IonItem style={{ paddingRight: 16 }}>\n        <IonLabel id=\"suburb\" color=\"medium\" position=\"floating\">\n          Suburb\n        </IonLabel>\n        <IonInput placeholder=\"e.g CBD, Chatswood\" required={true}\n          onIonChange={e => {\n            onAddressChange({ ...address, suburb: e.detail.value })\n          }}></IonInput>\n      </IonItem>\n      <IonItem style={{ paddingRight: 16 }}>\n        <IonLabel id=\"state\" color=\"medium\" position=\"floating\">\n          State\n        </IonLabel>\n        <IonInput placeholder=\"e.g. NSW\"\n          onIonChange={e => {\n            onAddressChange({ ...address, state: e.detail.value })\n          }}></IonInput>\n      </IonItem>\n      <IonItem style={{ paddingRight: 16 }}>\n        <IonLabel id=\"postcode\" color=\"medium\" position=\"floating\">\n          Postcode\n        </IonLabel>\n        <IonInput placeholder=\"e.g. 2000\"\n          onIonChange={e => {\n            onAddressChange({ ...address, postcode: e.detail.value })\n          }}></IonInput>\n      </IonItem>\n      <IonItem style={{ paddingRight: 16 }}>\n        <IonLabel id=\"email\" color=\"medium\" position=\"floating\">\n          Email\n        </IonLabel>\n        <IonInput type=\"email\" placeholder=\"e.g. John@test.com \"\n          onIonChange={e => {\n            onAddressChange({ ...address, email: e.detail.value })\n            // dispatch(Actions.addEmailAction(e.detail.value!));\n          }}></IonInput>\n      </IonItem>\n      <IonItem style={{ paddingRight: 16 }}>\n        <IonLabel id=\"phone\" color={(address && !address?.isValidNumber) ? \"danger\" : \"medium\"} position=\"floating\">\n          Phone Number *\n        </IonLabel>\n        <IonInput type=\"tel\" placeholder=\"+61 321112321\"\n          onIonChange={e => {\n            onAddressChange({ ...address, phone: e.detail.value, isValidNumber:true })\n            // dispatch(Actions.addPhoneAction(e.detail.value!));\n          }}></IonInput>\n      </IonItem>\n\n      {\n        (address && (!address?.isValidAddress1 || !address?.isValidNumber ))\n          ? <IonItem style={{ paddingRight: 16 }} lines=\"none\">\n            <IonLabel color=\"danger\" position=\"floating\">\n              * Please fill up all the required information.\n        </IonLabel>\n          </IonItem>\n          : null\n      }\n    </IonList>\n  );\n};\n\nexport default AddressForm;\n","import {\n  IonContent,\n  IonPage,\n  IonButton,\n  IonToolbar,\n  IonButtons,\n  IonIcon,\n  IonLabel,\n  IonCheckbox,\n  IonItem,\n  IonImg,\n  IonLoading\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { connect, useSelector } from \"react-redux\";\nimport ItemList from \"../components/ItemList\";\nimport Payment from \"../components/Payment\";\nimport { useHistory } from \"react-router-dom\";\nimport { closeOutline } from \"ionicons/icons\";\nimport { CheckoutProps } from \"../model/ComponentProps\";\nimport {\n  RootState,\n  CartStateType,\n  ShopStateType,\n  ProfileData,\n  AddressObj} from \"../model/DomainModels\";\nimport ShopHeader from \"../components/ShopHeader\";\nimport ShopConditionAndOperatingHours from \"../components/ShopConditionAndOperatingHours\";\nimport { CartState } from \"../services/FirebaseIniti\";\nimport { useFirebase, isEmpty } from \"react-redux-firebase\";\nimport AddressForm from \"../components/Address\";\nimport CurrencyAmount from \"../components/CurrencyAmount\";\n\ninterface MockInvoice {\n  // TODO: Please fix the DomainModels > Invoice object same as below write invoice function\n  id: string;\n  [key: string]: string | number | [] | any | null;\n}\n\nconst Checkout: React.FC<CheckoutProps> = () => {\n  const firebase = useFirebase();\n  const db = firebase.firestore();\n  const auth = useSelector<RootState>(state => state.firebase.auth);\n  const [addressObj, setAddress] = useState<AddressObj>({isValidAddress1:true,isValidNumber:true} as AddressObj);\n  const [aggreement, setAggreement] = useState<boolean>(false);\n  const [paymentType, setPaymentType] = useState<string>(\"none\");\n  const [, setInvoiceId] = useState<string>(\"\");\n  const [, setInvoice] = useState<MockInvoice>({} as MockInvoice);\n  const [showLoading, setShowLoading] = useState(false);\n  const [isValidAddress1, setIsValidAddress1] = useState(true);\n  const [isValidNumber, setIsValidNumber] = useState(true);\n\n  let history = useHistory();\n  // const [state] = useState<CartState>();\n\n  const [cartState, setCartState] = useState<CartStateType>({\n    cartItemList: [],\n    cart: {\n      total: 0.0\n    }\n  });\n\n  const [shopState, setShop] = useState<ShopStateType>({\n    shop: {\n      id: \"\",\n      name: \"\",\n      opening_hour: [],\n      free_delivery_conditions: \"\",\n      img_url: \"\",\n      store_address: \"\",\n      support_postcodes: [],\n      cut_off_terms: \"\",\n      service_offering: \"\"\n    }\n  });\n\n  function mapStateToProps(state: CartState) {\n    const { firebase, cart, shop, address } = state;\n    setCartState(cart);\n    setShop(shop);\n    return { firebase, cart, shop, address };\n  }\n\n  const CartItemList = connect(mapStateToProps)(ItemList);\n  const ShopHeaderWithShop = connect(mapStateToProps)(ShopHeader);\n  const EnhancedCondition = connect(mapStateToProps)(\n    ShopConditionAndOperatingHours\n  );\n  // const AddressComponent = connect(mapStateToProps)(Address);\n\n  function writeUserData(my_auth: any): Promise<void> {\n    let json_auth = JSON.parse(JSON.stringify(my_auth));\n    let user: ProfileData = {\n      providerId: json_auth.providerData[0].providerId,\n      display_name: json_auth.displayName, //displayName\n      payment_detail: \"\", //\n      contact_mobile: \"\",\n      address: addressObj,\n      photo_url: json_auth.photoURL, //photoURL we get from firebase.auth() when sign in completed\n      id: json_auth.uid, // uid  we get from firebase.auth() when sign in completed\n      email: json_auth.email\n    };\n    let invoice = {\n      id: \"\",\n      user_id: my_auth.uid,\n      market_id: shopState.shop.id,\n      market_name: shopState.shop.name,\n      address: addressObj,\n      total_amount: cartState.cart.total,\n      platform_charges: 135.0,\n      cut_off_terms: shopState.shop.cutoff_terms,\n      delivery_date: \"22 May 2020\",\n      order_date: \"12 May 2020\",\n      status: \"open\",\n      payment_status: \"pending\",\n      cart_total_cost_inc_GST: cartState.cart.total,\n      cart_items: cartState.cartItemList,\n      batch_id: \"\",\n      user: user,\n      payment_type: paymentType\n    };\n    setInvoice(invoice);\n    return db\n      .collection(\"Users\")\n      .doc(json_auth.uid)\n      .set(user)\n      .then(response => {\n        console.error(\"user updated:--\" + JSON.stringify(response));\n        return db\n          .collection(\"Invoices\")\n          .add(invoice)\n          .then(res => {\n            setInvoiceId(res.id);\n            invoice.id = res.id;\n            setInvoice(invoice);\n            history.push(\"/orders/\" + res.id);\n            console.clear();\n            console.log(\"Successfully inserted\");\n            setShowLoading(false);\n          })\n          .catch(err => {\n            console.log(\"Not inserted+==\" + JSON.stringify(err));\n          });\n      })\n      .catch(() => {\n        console.error(\"User not found\");\n      });\n  }\n\n  const handleComplete = async () => {\n    setShowLoading(true);\n    if (!addressObj.address1 || addressObj.address1 == \"\") {\n      // alert(\"Please Type Address Line 1\");\n      setAddress({ ...addressObj,isValidAddress1:false })\n      setShowLoading(false);\n      return;\n    }\n    if (!addressObj.phone || addressObj.phone == \"\") {\n      // alert(\"Please Type the Contact person number\");\n      setAddress({ ...addressObj,isValidNumber:false })\n      setShowLoading(false);\n      return;\n    }\n    if (paymentType === \"\" || paymentType === \"none\") {\n      alert(\"Please select any payment option\");\n      setShowLoading(false);\n      return;\n    }\n    if (!aggreement) {\n      alert(\"Please check our aggreement\");\n      setShowLoading(false);\n      return;\n    }\n\n    if (cartState.cartItemList.length == 0) {\n      alert(\"Please add products in card\");\n      setShowLoading(false);\n      return;\n    }\n\n    if (isEmpty(auth)) {\n      alert(\"Please login to continue checkout\");\n      setShowLoading(false);\n      return;\n    }\n    try {\n      await writeUserData(auth);\n      // history.push(\"/orders/\" + invoice.id);\n      // console.clear();\n      // console.log(\"Successfully inserted\");\n      setShowLoading(false);\n    } catch (error) {\n      console.log(\"Can't insert the data for invoice\");\n      console.log(error);\n      setShowLoading(false);\n    }\n  };\n\n  // function renderInvoice() {\n\n  // }\n\n  // const completePayment = async () => {\n  // This block is optional -- only if you need to update order items/shipping\n  // methods in response to shipping method selections\n  // try {\n  //   const applePayTransaction = await ApplePay.makePaymentRequest({\n  //     items,\n  //     shippingMethods,\n  //     merchantIdentifier,\n  //     currencyCode,\n  //     countryCode,\n  //     billingAddressRequirement: ['name', 'email', 'phone'],\n  //     shippingAddressRequirement: 'none',\n  //     shippingType: 'shipping'\n  //   });\n\n  //   const transactionStatus = await completeTransactionWithMerchant(applePayTransaction);\n  //   await this.applePay.completeLastTransaction(transactionStatus);\n  // } catch {\n  //   // handle payment request error\n  //   // Can also handle stop complete transaction but these should normally not occur\n  // }\n\n  // // only if you started listening before\n  // await ApplePay.stopListeningForShippingContactSelection();\n  // }\n\n  // useEffect(() => {\n  //   console.log(\"address is:-\" + JSON.stringify(address));\n  // }, [auth, address]);\n\n  const closehandler = async () => {\n    history.goBack();\n  };\n\n  return (\n    <IonPage id=\"checkout\" className=\"checkout_page\">\n      <IonToolbar color=\"secondary\">\n        <IonButtons slot=\"end\">\n          <IonButton onClick={closehandler}>\n            <IonIcon\n              size=\"large\"\n              slot=\"icon-only\"\n              icon={closeOutline}\n            ></IonIcon>\n          </IonButton>\n        </IonButtons>\n      </IonToolbar>\n      <IonContent>\n        <ShopHeaderWithShop />\n        <CartItemList />\n        <IonItem lines=\"none\">\n          <IonLabel color=\"primary\" style={{ textAlign: \"right\" }}>\n            {/* Total incl GST ${cartState.cart.total} */}\n            Total incl GST {<CurrencyAmount amount={cartState.cart.total} />}\n          </IonLabel>\n        </IonItem>\n        <EnhancedCondition />\n        <AddressForm address={addressObj} onAddressChange={setAddress}/>\n        <br></br>\n        <Payment payment={paymentType} onChange={setPaymentType} />\n        <IonItem lines=\"none\">\n          <IonImg\n            class=\"footer_pay\"\n            slot=\"start\"\n            src=\"/assets/icon/1x/payment.png\"\n          ></IonImg>\n        </IonItem>\n        <IonItem lines=\"none\">\n          <IonCheckbox\n            slot=\"start\"\n            checked={aggreement}\n            onIonChange={e => {\n              setAggreement(e.detail.checked);\n            }}\n          ></IonCheckbox>\n          <IonLabel>\n            <p>I read and agree on our Terms and Conditions</p>\n          </IonLabel>\n        </IonItem>\n        <IonItem lines=\"none\">\n          <IonButtons slot=\"end\">\n            <IonButton\n              color=\"secondary\"\n              fill=\"outline\"\n              onClick={handleComplete}\n            >\n              Continue Shopping\n            </IonButton>\n            <IonButton color=\"secondary\" fill=\"solid\" onClick={handleComplete}>\n              Confirm\n            </IonButton>\n          </IonButtons>\n          <IonLoading\n            isOpen={showLoading}\n            onDidDismiss={() => setShowLoading(false)}\n            message={\"Please wait...\"}\n            duration={5000}\n          />\n        </IonItem>\n        <br></br>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Checkout;\n","import React from \"react\";\nimport {\n  IonHeader,\n  IonToolbar,\n  IonImg,\n  IonMenuButton\n} from \"@ionic/react\";\n\nconst MainHeader: React.FC = () => {\n  return (\n    <IonHeader>\n      <IonToolbar>\n          <IonMenuButton slot='end' />\n      </IonToolbar>\n      <IonImg class=\"startmall_header \" src=\"/assets/icon/1x/logo2.png\" />\n    </IonHeader>\n  );\n};\n\nexport default MainHeader;\n","import {\n  IonContent,\n  IonPage,\n  IonImg,\n  IonItem,\n  IonInput,\n  IonButton,\n  IonFooter\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport MainHeader from \"../components/MainHeader\";\nimport { useHistory } from \"react-router\";\n\nconst Dashboard: React.FC = () => {\n  console.log(\"entering Dashboard\");\n  const [postcode,setPostCode] = useState<string>();\n  const history = useHistory();\n  // SplashScreen.show({\n  //   showDuration: 2000,\n  //   autoHide: true\n  // });\n  let elements = document.querySelectorAll(\"ion-tab-bar\");\n\n  if (elements != null) {\n    Object.keys(elements).map((key: any) => {\n      elements[key].className = \"hide\";\n    });\n  }\n\n  function handleSearch() {\n    if(!postcode || postcode == \"\"){\n      alert(\"Please enter postcode\");\n      return;\n    }\n    history.push(\"/tabs/shop_selections/\"+postcode)\n  }\n\n  return (\n    <IonPage>\n      <MainHeader />\n\n      <IonContent fullscreen>\n        <IonImg className=\"dashboard_ad\" src=\"/assets/icon/1x/cover.png\" />\n        <div className=\"dashboard_main\">\n          <IonItem>\n            <IonInput\n              autofocus={true}\n              className=\"postcode_input\"\n              inputMode=\"numeric\"\n              placeholder=\"Enter postcode to search\"\n              onIonChange={e => {\n                let value = e.detail.value\n                setPostCode(value+\"\")\n              }}\n            ></IonInput>\n            <IonButton onClick={handleSearch}> Search</IonButton>\n          </IonItem>\n\n          <IonImg src=\"/assets/img/instructions.png\" />\n        </div>\n      </IonContent>\n      <IonFooter>\n        <IonItem lines=\"none\">\n          <IonImg\n            class=\"footer_pay\"\n            slot=\"start\"\n            src=\"/assets/icon/1x/payment.png\"\n          ></IonImg>\n          <IonButton slot=\"end\"> Order now </IonButton>\n        </IonItem>\n      </IonFooter>\n    </IonPage>\n  );\n};\n\nexport default Dashboard;","import React from \"react\";\nimport { CartState } from \"../services/FirebaseIniti\";\nimport { IonItem } from \"@ionic/react\";\nimport CurrencyAmount from \"./CurrencyAmount\";\n\nconst CartTotal: React.FC<CartState> = ({ cart }) => {\n  // let cart1 = JSON.parse(JSON.stringify(cart));\n  // console.log(\"cart is :--\" + JSON.stringify(cart1));\n  return (\n    <IonItem>Total: <CurrencyAmount amount={cart.cart.total} /></IonItem>\n  )\n};\n\nexport default CartTotal;\n","import React from \"react\";\nimport {\n  IonModal,\n  IonButton,\n  IonContent,\n  IonHeader,\n  IonToolbar,\n  IonButtons,\n  IonIcon,\n  IonFooter\n} from \"@ionic/react\";\nimport { connect } from \"react-redux\";\nimport { closeOutline } from \"ionicons/icons\";\nimport ItemList from \"../components/ItemList\";\nimport { useHistory } from \"react-router-dom\";\nimport { CartProps } from \"../model/ComponentProps\";\nimport { CartState } from \"../services/FirebaseIniti\";\nimport CartTotal from \"../components/CartTotal\";\n\nconst Cart: React.FC<CartProps> = ({ modal, closehandler }) => {\n  let history = useHistory();\n  function mapStateToProps(state: CartState) {\n    const { firebase, cart, shop, address } = state;\n    return { firebase, cart, shop, address };\n  }\n  function handleCheckOut() {\n    history.push(\"/page/checkout\");\n    closehandler();\n  }\n\n  const CartItemList = connect(mapStateToProps)(ItemList);\n  const EnhancedCartTotal = connect(mapStateToProps)(CartTotal);\n\n  return (\n    <IonModal isOpen={modal}>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"end\">\n            <IonButton onClick={closehandler}>\n              <IonIcon\n                size=\"large\"\n                slot=\"icon-only\"\n                icon={closeOutline}\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"checkout_page\">\n        <CartItemList />\n      </IonContent>\n      <IonFooter>\n        <EnhancedCartTotal />\n        <IonButton expand=\"full\" onClick={handleCheckOut}>\n          Check Out\n          </IonButton>\n      </IonFooter>\n    </IonModal>\n  );\n};\n\nexport default Cart;\n","import React, { useState } from \"react\";\nimport { useFirebase } from \"react-redux-firebase\";\nimport { IonImg } from \"@ionic/react\";\n\ninterface GetURLProps {\n  src: string;\n}\nexport const FirestoreIonImg: React.FC<GetURLProps> = ({ src }) => {\n  var [downloadUrl, setDownloadUrl] = useState(src);\n  var storage = useFirebase().storage();\n  if (src.startsWith(\"gs\")) {\n    var imgref = storage.refFromURL(src);\n    console.log(\"Image Ref\");\n    console.log(imgref);\n    // Get the download URL\n    imgref\n      .getDownloadURL()\n      .then(function(url: string | any) {\n        // Insert url into an <img> tag to \"download\"\n        // Or inserted into an <img> element:\n        setDownloadUrl(url);\n      })\n      .catch(function(error: any) {\n        // A full list of error codes is available at\n        // https://firebase.google.com/docs/storage/web/handle-errors\n        switch (error.code) {\n          case \"storage/object-not-found\":\n            // File doesn't exist\n            break;\n\n          case \"storage/unauthorized\":\n            // User doesn't have permission to access the object\n            break;\n\n          case \"storage/canceled\":\n            // User canceled the upload\n            break;\n          case \"storage/unknown\":\n            // Unknown error occurred, inspect the server response\n            break;\n        }\n      });\n  }\n\n  return <IonImg src={downloadUrl} />;\n};\n","import React from \"react\";\nimport { IonCard, IonCardHeader, IonCardSubtitle } from \"@ionic/react\";\nimport { CategoryProps } from \"../model/ComponentProps\";\nimport { FirestoreIonImg } from \"../services/FirebaseStorage\";\n\nconst CategoryItem: React.FC<CategoryProps> = ({ market_id, category }) => {\n  return (\n    <IonCard\n      routerLink={\"/tabs/market/\" + market_id + \"/item_list/\" + category.id}\n      class=\"category\"\n    >\n      <IonCardHeader>\n        <FirestoreIonImg src={category.img_url as string} />\n        {/* <IonImg src={category.img_url as string}></IonImg> */}\n        <IonCardSubtitle className=\"category_name\">{category.name}</IonCardSubtitle>\n      </IonCardHeader>\n    </IonCard>\n  );\n};\n\nexport default CategoryItem;\n","import React from \"react\";\nimport \"./ExploreContainer.css\";\nimport {\n  IonHeader,\n  IonGrid,\n  IonCol,\n  IonRow,\n  IonIcon} from \"@ionic/react\";\nimport { ellipsisHorizontalCircleOutline } from \"ionicons/icons\";\n\nconst OrderDayShopHeader: React.FC = () => {\n  return (\n    <IonHeader>\n      <IonGrid class=\"orderDayShopHeader\">\n        <IonRow>\n          <IonCol size=\"8\">\n            <IonGrid>\n              <IonRow>\n                <IonCol size=\"6\">Cutoff Order</IonCol>\n                <IonCol size=\"5\">12pm </IonCol>\n              </IonRow>\n              <IonRow>\n                <IonCol size=\"6\">Delivery Day</IonCol>\n                <IonCol size=\"5\">9am-3pm </IonCol>\n              </IonRow>\n            </IonGrid>\n          </IonCol>\n          <IonCol size=\"2\">\n            <IonIcon size=\"large\" icon={ellipsisHorizontalCircleOutline}></IonIcon>\n          </IonCol>\n        </IonRow>\n      </IonGrid>\n    </IonHeader>\n  );\n};\n\nexport default OrderDayShopHeader;\n","import {\n  IonButtons,\n  IonContent,\n  IonPage,\n  IonToolbar,\n  IonIcon,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonBadge,\n  IonButton,\n  IonItem\n} from \"@ionic/react\";\nimport { basket } from \"ionicons/icons\";\nimport React, { useState } from \"react\";\nimport \"./Market.css\";\nimport Cart from \"./Cart\";\nimport { connect } from \"react-redux\";\nimport data from \"../data/hmarketitems.json\";\nimport CategoryItem from \"./CategoryItem\";\nimport { CategoryObj } from \"../model/DomainModels\";\nimport OrderDayShopHeader from \"../components/OrderDayShopHeader\";\nimport ShopHeader from \"../components/ShopHeader\";\nimport { CartState } from \"../services/FirebaseIniti\";\n\nconst ShopMain: React.FC = () => {\n  console.log(\"entering market\");\n  const [showModal, setShowModal] = useState(false);\n  const Categories: CategoryObj[] = [];\n  const CartBadge: React.FC<CartState> = ({ firebase, cart }) => {\n    const cartSize = cart.cartItemList.length;\n    if (cartSize > 0) {\n      return <IonBadge color=\"danger\">{cart.cartItemList.length}</IonBadge>;\n    } else {\n      return <div></div>;\n    }\n  };\n\n  function mapStateToProps(state: CartState) {\n    const { firebase, cart, shop, address } = state;\n    return { firebase, cart, shop, address };\n  }\n  const CartCounter = connect(mapStateToProps)(CartBadge);\n  const ShopHeaderWithShop = connect(mapStateToProps)(ShopHeader);\n\n\n  var index = 0;\n  for (var x in data) {\n    // console.log(\"how many category \" + index + \" : \" + x);\n    index++;\n    const obj: CategoryObj = {\n      id: index,\n      categoryName: x.toString(),\n      market: \"Hi Fresh\",\n      imageUrl: \"./assets/img/veg-stock2.jpg\",\n      key: index\n    };\n    Categories.push(obj);\n  }\n\n  // mItems.json().\n  return (\n    <IonPage>\n      <IonToolbar>\n        <IonButtons slot=\"end\">\n          <IonButton onClick={() => setShowModal(true)} slot=\"start\">\n            <IonIcon size=\"large\" slot=\"icon-only\" icon={basket}></IonIcon>\n            <CartCounter />\n          </IonButton>\n        </IonButtons>\n      </IonToolbar>\n      <OrderDayShopHeader />\n      <IonContent fullscreen>\n        <ShopHeaderWithShop\n        />\n        <IonGrid>\n          <IonRow>\n            {Categories.map(obj => {\n              return (\n                <IonCol key={obj.id}>\n                  <CategoryItem market_id=\"\" category={obj} />\n                </IonCol>\n              );\n            })}\n          </IonRow>\n        </IonGrid>\n        <IonItem hidden={showModal}>\n          <Cart modal={showModal} closehandler={() => setShowModal(false)} />\n        </IonItem>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default ShopMain;\n","import React from \"react\";\nimport { RootState, Invoice, CartItem } from \"../model/DomainModels\";\nimport {\n  IonPage,\n  IonHeader,\n  IonContent,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonLabel,\n  IonItem,\n  IonToolbar,\n  IonButtons,\n  IonButton,\n  IonIcon,\n  IonFooter,\n} from \"@ionic/react\";\nimport { CartState } from \"../services/FirebaseIniti\";\nimport { connect, useSelector } from \"react-redux\";\nimport { closeOutline } from \"ionicons/icons\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useFirestoreConnect, FirestoreReducer } from \"react-redux-firebase\";\nimport CurrencyAmount from \"../components/CurrencyAmount\";\n\n\nconst OrderComplete: React.FC<CartState> = () => {\n\n  const { invoice_id } = useParams<{ invoice_id: string }>();\n  const cartItems: Array<CartItem> = [];\n  let invoice: Invoice = {} as Invoice;\n  let history = useHistory();\n  // for (var cartlistitemqty in cartListWithQty) {\n  //   cartListArray.push(cartListWithQty[cartlistitemqty]);\n  //   console.log(cartlistitemqty);\n  // }\n  function closehandler() {\n    history.push(\"/\");\n  }\n\n  useFirestoreConnect([{ collection: \"Invoices\", doc: invoice_id, storeAs: \"Invoice\" }]);\n\n  const invoiceStore = useSelector<RootState>(\n    state => state.firestore\n  ) as FirestoreReducer.Reducer;\n\n\n  // setInvoice(invoice.ordered.Invoice[0])\n  console.log(\"INVOICE: \" + invoice_id);\n  // console.log(JSON.stringify(invoice.ordered.Invoice[0]));\n\n  if (invoiceStore.ordered.Invoice && invoiceStore.ordered.Invoice.length > 0) {\n    // setInvoice(invoiceStore.ordered.Invoice[0])\n    invoice = invoiceStore.ordered.Invoice[0]\n    invoice.cart_items.forEach(element => {\n      let ele = { ...element, qty: 1, img_url: \"\" }\n      // ele.map((updateItem:CartItem) => ({\n      //   ...updateItem,\n      //   qty: 1       \n      // }));\n      // let ele:CartItem = {} as CartItem\n      // ele.name = element.name;\n      // ele.qty = 1;\n      // ele.unit_price = element.unit_price;\n      // ele.img_url = element.img_url;\n      // ele.unit = element.unit;\n      // ele.id = element.id;\n\n      let item = cartItems.filter(function (item: CartItem) {\n        return item.id == element.id;\n      })\n      if (item.length > 0) {\n        let existedItem = item[0];\n        existedItem.qty = existedItem.qty + 1;\n        // let newList = cartItems;\n        // cartItems = [...newList,existedItem]\n      } else {\n        cartItems.push(ele);\n      }\n    });\n    console.log(\"ITEMS:\" + JSON.stringify(cartItems));\n\n    // for (var item in invoice.cart_items) {\n\n    //   cartItems.push(invoice.cart_items[item]);\n    //   console.log(cartItems);\n    // }\n  }\n\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"end\">\n            <IonButton onClick={closehandler}>\n              <IonIcon\n                size=\"large\"\n                slot=\"icon-only\"\n                icon={closeOutline}\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonButtons slot=\"start\"></IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent>\n        <IonItem className=\"order_cutoff\" lines=\"none\">\n          <p>\n            {invoice.cut_off_terms}\n          </p>\n        </IonItem>\n        <IonItem className=\"order_cutoff\" lines=\"none\">\n          {/* {invoice.cut_off_terms} */}\n          <IonLabel>\n            <b>{\"Invoice Reference Numer: \" + invoice_id}</b>\n          </IonLabel>\n        </IonItem>\n        <IonItem className=\"order_completed\" lines=\"none\">\n          <IonLabel>\n            <b>Order Completed</b>\n          </IonLabel>\n        </IonItem>\n        <IonItem className=\"order_completed\">\n          <p>\n            We are processing your order at the moment. You will receieve the\n            order confirmation from us shortly.\n          </p>\n        </IonItem>\n        {/* <IonCard className=\"complete_order_card\">\n          <IonCardContent> */}\n        <IonGrid >\n          <IonRow>\n            <IonCol size=\"5\" ><IonItem lines=\"none\"></IonItem></IonCol>\n            <IonCol size=\"2.5\" ><IonItem text-center lines=\"none\">Qty</IonItem></IonCol>\n            <IonCol size=\"3.5\" text-center><IonItem text-center lines=\"none\">Total</IonItem></IonCol>\n          </IonRow>\n          {/* {cartListArray.map(cartWithQty => {\n            return (\n              <IonRow>\n                <IonCol size=\"4\">\n                  <IonItem lines=\"none\">{cartWithQty.item.name}</IonItem>\n                </IonCol>\n                <IonCol size=\"3\">{cartWithQty.count}</IonCol>\n                <IonCol size=\"2\">\n                  <IonItem lines=\"none\">${cartWithQty.item.unit_price}</IonItem>\n                </IonCol>\n              </IonRow>\n            );\n          })} */}\n          {cartItems.map(item => {\n            return (\n              <IonRow>\n                <IonCol size=\"5\" >\n                  <IonItem lines=\"none\">{item.name}</IonItem>\n                </IonCol>\n                <IonCol size=\"2.5\" ><IonItem lines=\"none\">{item.qty}</IonItem></IonCol>\n                <IonCol size=\"3.5\" >\n                  <IonItem lines=\"none\"><CurrencyAmount amount={item.unit_price} /></IonItem>\n                </IonCol>\n              </IonRow>\n            );\n          })}\n        </IonGrid>\n        {/* </IonCardContent>\n        </IonCard> */}\n        <IonItem></IonItem>\n        <IonItem className=\"total_cart\" lines=\"none\">Total incl GST <CurrencyAmount amount={invoice.total_amount} /></IonItem>\n      </IonContent>\n      <IonFooter>\n        <IonButton expand=\"full\" onClick={() => history.push(\"/\")}>Continue Shopping</IonButton>\n      </IonFooter>\n    </IonPage>\n  );\n};\n\nfunction mapStateToProps(state: CartState) {\n  const { firebase, cart, shop } = state;\n  return { firebase, cart, shop };\n}\n\nexport default connect(mapStateToProps)(OrderComplete);\n","import React, { useEffect, useState } from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  IonCard,\n  IonCardContent,\n  IonButton,\n  IonLabel,\n  IonIcon,\n  IonItem,\n  IonHeader,\n  IonToolbar,\n  IonImg,\n  getPlatforms,\n  IonLoading\n} from \"@ionic/react\";\nimport { logoFacebook, logoGoogle } from \"ionicons/icons\";\nimport { useFirebase, isLoaded, isEmpty } from \"react-redux-firebase\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../model/DomainModels\";\nimport { useHistory } from \"react-router-dom\";\nimport { cfaSignIn, mapUserToUserInfo } from \"capacitor-firebase-auth\";\nimport { UserInfo } from \"firebase/app\";\nimport { isPlatform } from \"@ionic/core\";\n\nconst Login: React.FC = () => {\n  const firebase = useFirebase();\n  const auth = useSelector<RootState>(state => state.firebase.auth);\n  const history = useHistory();\n  const db = firebase.firestore();\n  const [showLoading, setShowLoading] = useState(false);\n\n  firebase.auth().onAuthStateChanged(function (user) {\n    console.log(\"Login State changes\");\n    console.log(user);\n    if (isLoaded(auth) && !isEmpty(auth)) {\n      console.log(\"User Logged in\");\n      writeUserData(auth);\n    }\n  });\n\n  function writeUserData(auth1: any) {\n    let auth2 = JSON.parse(JSON.stringify(auth1));\n    db.collection(\"Users\")\n      .doc(auth2.uid)\n      .set({\n        providerId: auth2.providerData[0].providerId,\n        display_name: auth2.displayName, //displayName\n        payment_detail: \"\", //\n        contact_mobile: auth2.phoneNumber,\n        address: {},\n        photo_url: auth2.photoURL, //photoURL we get from firebase.auth() when sign in completed\n        user_id: auth2.uid, // uid  we get from firebase.auth() when sign in completed\n        email: auth2.email\n      });\n  }\n\n  useEffect(() => {\n    if (isLoaded(auth) && !isEmpty(auth)) {\n      console.log(\"User Logged in\");\n      // history.push(\"/\");\n      // history.goBack()\n    }\n  }, [auth, history]);\n\n  async function loginWithGoogle() {\n    setShowLoading(true);\n    // await Plugins.GoogleAuth.signOut();\n    console.log(\n      \"platfprms \" + getPlatforms() + \" platform is\" + isPlatform(\"ios\")\n    );\n    if (!isPlatform(\"ios\") || isPlatform(\"mobileweb\")) {\n      console.log(\"Google Web login start\");\n      return firebase\n        .login({ provider: \"google\", type: \"popup\" })\n        .then(data => {\n          console.log(data);\n          // history.push(\"/\");\n          history.goBack()\n          setShowLoading(false);\n        })\n        .catch(data => {\n          console.log(\"Something Wrong with Google login. Please try again later\");\n          console.log(data);\n          // history.push(\"/\");\n          history.goBack()\n          setShowLoading(false);\n\n        });\n    } else {\n      return cfaSignIn(\"google.com\")\n        .pipe(mapUserToUserInfo())\n        .subscribe((user: UserInfo) => {\n          setShowLoading(false);\n          console.log(user.displayName);\n        });\n    }\n  }\n\n  function loginWithFacebook() {\n    setShowLoading(true);\n\n    console.log(\n      \"platfprms \" + getPlatforms() + \" platform is\" + isPlatform(\"ios\")\n    );\n    if (!isPlatform(\"ios\") || isPlatform(\"mobileweb\")) {\n      console.log(\"Facebook Web login start\");\n      return firebase\n        .login({ provider: \"facebook\", type: \"popup\" })\n        .then(data => {\n          console.log(data);\n          // history.push(\"/\");\n          history.goBack()\n          setShowLoading(false);\n        })\n        .catch(data => {\n          console.log(\"Something Wrong with Facebook login. Please try again later\");\n          console.log(data);\n          // history.push(\"/\");\n          history.goBack()\n          setShowLoading(false);\n\n        });\n    } else {\n      return cfaSignIn(\"facebook.com\")\n        .pipe(mapUserToUserInfo())\n        .subscribe((user: UserInfo) => {\n          console.log(user.displayName);\n          setShowLoading(false);\n        });\n    }\n  }\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar></IonToolbar>\n        <IonImg class=\"startmall_header \" src=\"/assets/icon/1x/logo2.png\" />\n      </IonHeader>\n      <IonIcon\n        className=\"login_icon\"\n        size=\"small\"\n        src=\"assets/icon/logo_small.svg\"\n      />\n\n      <IonContent >\n        <IonCard className=\"login_card\">\n          <IonCardContent>\n            <IonButton\n              color=\"facebook\"\n              fill=\"solid\"\n              className=\"facebook_button\"\n              onClick={loginWithFacebook}\n            >\n              <IonIcon icon={logoFacebook}></IonIcon>\n              Sign up / Sign in with Facebook\n            </IonButton>\n            <IonButton\n              color=\"google\"\n              fill=\"solid\"\n              className=\"google_button\"\n              onClick={loginWithGoogle}\n            >\n              <IonIcon icon={logoGoogle}></IonIcon>Sign up / Sign in with Google\n            </IonButton>\n            <IonItem lines=\"none\">\n              <IonLabel>- or -</IonLabel>\n            </IonItem>\n            <IonButton\n              color=\"google\"\n              fill=\"solid\"\n              shape=\"round\"\n              className=\"wechat_button\"\n            >\n              WeChat\n            </IonButton>\n            <div>\n              <IonLabel>\n                By signing up, you agree to StartMall's <u>Terms of Use</u> and{\" \"}\n                <u>Privacy Policy</u>.\n              </IonLabel>\n            </div>\n          </IonCardContent>\n        </IonCard>\n        <IonLoading\n          isOpen={showLoading}\n          onDidDismiss={() => setShowLoading(false)}\n          message={\"Please wait...\"}\n          duration={5000}\n        />\n      </IonContent>\n    </IonPage>\n  );\n};\n\n\nexport default Login;\n","import React from \"react\";\nimport { Stripe } from \"@ionic-native/stripe\";\n\nimport { IonPage } from \"@ionic/react\";\nimport { constructSharp } from \"ionicons/icons\";\nimport { PaymentRequestButtonElement } from \"@stripe/react-stripe-js\";\n\nconst StripeComponent: React.FC = () => {\n  const stripeKey = \"pk_test_YC0gcyGppNgDEzsD5FxBzPXJ00nUQJqCvw\";\n  Stripe.setPublishableKey(stripeKey).then(e => console.log(e));\n  var cardDetails = {\n    number: \"4242424242424242\",\n    expMonth: 12,\n    expYear: 2020,\n    cvc: \"220\"\n  };\n  Stripe.createCardToken(cardDetails)\n    .then(e => {\n      console.log(e.id);\n      // in ios native, we will make one time payment here.\n    })\n    .catch(error => {\n      console.log(error);\n    });\n\n  return (\n    <IonPage>\n      <PaymentRequestButtonElement />\n    </IonPage>\n  );\n};\n\nexport default StripeComponent;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  IonCard,\n  IonCardContent,\n  IonButton,\n  IonIcon,\n  IonRow, IonCol,\n  IonItem,\n  IonLabel\n} from \"@ionic/react\";\nimport { add, heart, heartOutline } from \"ionicons/icons\";\nimport state from \"../reducers/Address\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addCartAction } from \"../reducers/CartAction\";\nimport { ItemObj, RootState, WishList } from \"../model/DomainModels\";\nimport { ShopItemProps } from \"../model/ComponentProps\";\nimport { FirestoreIonImg } from \"../services/FirebaseStorage\";\nimport { async } from \"@firebase/util\";\nimport { useFirebase, isLoaded, isEmpty } from \"react-redux-firebase\";\nimport CurrencyAmount from \"../components/CurrencyAmount\";\n\n\nconst ShopItem: React.FC<ShopItemProps> = ({ item, market_id }) => {\n  const [logined, setLogin] = useState(false);\n  const [favorites, setFavorites] = useState(heartOutline);\n  const [wishlist, setWishlist] = useState<WishList>({} as WishList);\n  const dispatch = useDispatch();\n  const db = useFirebase().firestore();\n  const auth = useSelector<RootState>(state => state.firebase.auth);\n\n  function addFavorites() {\n    console.log(\"adding favorites\");\n    const json_auth = JSON.parse(JSON.stringify(auth));\n    var docRef = db.collection(\"WishLists\").doc(json_auth.uid).collection(\"List\");\n    let obj: WishList = {\n      item_id: item.id,\n      market_id: market_id\n    };\n    writeData(obj, json_auth.uid);\n  }\n\n  async function writeData(data: WishList, user_id: string) {\n    await db.collection(\"WishLists\").doc(user_id).collection(\"List\").add(data);\n    // updateFavorite();\n    setFavorites(heart);\n  }\n\n  function addCart(item: ItemObj) {\n    dispatch(addCartAction(item));\n  }\n\n  function checkFavorite(writing: boolean) {\n    if (!logined) {\n      return\n    }\n    console.log(\"updating favorite\");\n    const json_auth = JSON.parse(JSON.stringify(auth));\n    var docRef = db.collection(\"WishLists\").doc(json_auth.uid).collection(\"List\");\n\n    docRef.where('item_id', '==', item.id).get().then(function (snapshot) {\n      if (snapshot.empty) {\n        console.log(\"No such document!\");\n        if (writing) {\n          addFavorites();\n        } else setFavorites(heartOutline);\n      } else {\n        if (writing) {\n          snapshot.forEach(doc => {\n            console.log(doc.id, '=>', doc.data());\n            // deleteFavorite(doc.id, docRef);\n            docRef.doc(doc.id).delete().then(() => {\n              console.log(doc.id + \" deleted\");\n            })\n          });\n          setFavorites(heartOutline);\n        } else setFavorites(heart);\n      }\n    }).catch(function (error) {\n      setFavorites(heartOutline);\n      console.log(\"Error getting document:\", error);\n    });\n  }\n\n  useEffect(function () {\n    if (isLoaded(auth) && !isEmpty(auth)) {\n      console.log(\"User Logged in\");\n      setLogin(true);\n      checkFavorite(false);\n    }\n  }, []);\n\n  return (\n    <IonCard>\n      <IonCardContent style={{ padding: 10 }}>\n        <IonRow>\n          <IonCol size=\"4\">\n            <FirestoreIonImg src={item.img_url as string} />\n          </IonCol>\n          <IonCol size=\"7.8\">\n            <IonLabel >\n              <p>{item.name}</p>\n              <br />\n              <p className=\"currency\">\n                {/* $ {item.unit_price} {item.unit} */}\n                <CurrencyAmount amount={item.unit_price} /> {item.unit}\n              </p>\n            </IonLabel>\n            <br />\n            <IonItem lines=\"none\" style={{ float: \"right\" }} >\n              <IonButton\n                color=\"tertiary\"\n                fill=\"outline\"\n                size=\"small\"\n                onClick={() => addCart(item)}\n              >\n                <IonIcon slot=\"start\" icon={add} />\n                Add to Cart\n                </IonButton>\n              <IonButton\n                color=\"secondary\"\n                fill=\"clear\"\n                size=\"small\"\n                onClick={() => {\n                  if (isLoaded(auth) && !isEmpty(auth)) {\n                    checkFavorite(true);\n                  }else{\n                    alert(\"Please login to add item in wishlist\");\n                  }\n                }}\n              >\n                <IonIcon icon={favorites} />\n              </IonButton>\n            </IonItem>\n            <IonItem lines=\"none\" style={{ float: \"right\" }} className=\"shop_item_min_order\" >\n              <IonLabel>Minimum order: Nil</IonLabel>\n            </IonItem>\n          </IonCol>\n        </IonRow>\n      </IonCardContent>\n    </IonCard>\n  );\n};\n\nexport default ShopItem;\n","import React from \"react\";\nimport { withRouter, useHistory } from \"react-router-dom\";\nimport { IonButton, IonIcon } from \"@ionic/react\";\nimport { chevronBackOutline } from \"ionicons/icons\";\n\nconst GoBack = () => {\n  var history = useHistory();\n  return (\n    <IonButton fill=\"clear\" class=\"back_button\" onClick={() => history.goBack()}>\n      <IonIcon\n        size=\"small\"\n        slot=\"icon-only\"\n        icon={chevronBackOutline}\n      ></IonIcon>\n    </IonButton>\n  );\n};\n\nexport default withRouter(GoBack);\n","import {\n  IonHeader,\n  IonToolbar,\n  IonButtons,\n  IonButton,\n  IonIcon,\n  IonTitle,\n  IonMenuToggle\n} from \"@ionic/react\";\n\nimport React from \"react\";\n\nimport { basket } from \"ionicons/icons\";\n\nimport GoBack from \"./GoBack\";\nimport { Markets } from \"../model/DomainModels\";\n\ninterface MarketHeaderProps {\n  setShowModal: any;\n  shop: Markets;\n  CartCounter: any;\n}\n\nconst MarketHeader: React.FC<MarketHeaderProps> = ({\n  setShowModal,\n  shop,\n  CartCounter\n}) => {\n  return (\n    <IonHeader>\n      <IonToolbar color=\"secondary\">\n        <IonButtons slot=\"end\">\n          <IonButton onClick={() => setShowModal(true)} slot=\"start\">\n            <IonIcon size=\"large\" slot=\"icon-only\" icon={basket}></IonIcon>\n            <CartCounter />\n          </IonButton>\n          <IonMenuToggle>\n            <IonButton>\n\n            <IonIcon slot=\"start\" src=\"assets/icon/logo_small.svg\"></IonIcon>\n            </IonButton>\n          </IonMenuToggle>\n        </IonButtons>\n        <IonButtons slot=\"start\">\n          <GoBack />\n        </IonButtons>\n        <IonTitle class=\"shop_header_condition\" size=\"large\">\n          <p>{shop.cut_off_terms}</p>\n        </IonTitle>\n      </IonToolbar>\n    </IonHeader>\n  );\n};\n\nexport default MarketHeader;\n","import {\n  IonContent,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonBadge\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport \"./Market.css\";\nimport ShopItem from \"./ShopItem\";\nimport Cart from \"./Cart\";\nimport { connect, useSelector } from \"react-redux\";\nimport { MarketItemsProps } from \"../model/ComponentProps\";\nimport ShopHeader from \"../components/ShopHeader\";\nimport { useParams } from \"react-router\";\nimport { useFirestoreConnect, FirestoreReducer } from \"react-redux-firebase\";\nimport { RootState, Markets } from \"../model/DomainModels\";\nimport { CartState } from \"../services/FirebaseIniti\";\nimport MarketHeader from \"../components/MarketHeader\";\n\n// interface ItemJson {\n//   产品: string;\n//   售出单价: number;\n//   规格: string;\n\n//   [key: string]: string | number | null;\n// }\n\nconst MarketItems: React.FC<MarketItemsProps> = () => {\n  console.log(\"entering MarketItems\");\n  const { market_id } = useParams<{ market_id: string }>();\n  const { category_id } = useParams<{ category_id: string }>();\n  var shop = {} as Markets;\n  // const { categoryName } = useParams<{ categoryName: string }>();\n  const [showModal, setShowModal] = useState(false);\n\n  useFirestoreConnect([\n    { collection: \"Markets\", doc: market_id, storeAs: \"Market\" },\n    {\n      collection: \"Markets\",\n      doc: market_id,\n      subcollections: [\n        {\n          collection: \"Categories\",\n          doc: category_id,\n          subcollections: [{ collection: \"Items\" }]\n        }\n      ],\n      storeAs: \"ItemList\"\n    }\n  ]);\n  const dataStore = useSelector<RootState>(\n    state => state.firestore\n  ) as FirestoreReducer.Reducer;\n\n  if (dataStore.ordered.Market && dataStore.ordered.Market.length > 0) {\n    dataStore.ordered.Market.map(tmarket => {\n      console.log(tmarket.name);\n      shop = tmarket;\n      return shop;\n    });\n  }\n\n  const CartBadge: React.FC<CartState> = ({ cart }) => {\n    const cartSize = cart.cartItemList.length;\n    if (cartSize > 0) {\n      return <IonBadge color=\"danger\">{cart.cartItemList.length}</IonBadge>;\n    } else {\n      return <div></div>;\n    }\n  };\n\n  function mapStateToProps(state: CartState) {\n    const { firebase, cart, shop } = state;\n    return { firebase, cart, shop };\n  }\n  const CartCounter = connect(mapStateToProps)(CartBadge);\n  const ShopHeaderWithShop = connect(mapStateToProps)(ShopHeader);\n\n  // data.禽蛋类.map(item => {\n  //   var jsonitem = item as ItemJson;\n  //   const itemobj: ItemObj = {\n  //     market: \"Hi Fresh\",\n  //     itemName: jsonitem.产品,\n  //     itemDesc: jsonitem.规格,\n  //     itemCost: jsonitem.售出单价\n  //   };\n  //   Items.push(itemobj);\n  //   return Items;\n  // });\n\n  return (\n    <IonPage>\n      <MarketHeader setShowModal={setShowModal} shop={shop} CartCounter={CartCounter} />\n      <IonContent className=\"shope_item_listing\" fullscreen>\n        <ShopHeaderWithShop\n        />\n        <IonGrid>\n          <IonRow>\n            {dataStore.ordered.ItemList &&\n              dataStore.ordered.ItemList.length > 0 ? (\n                dataStore.ordered.ItemList.map(obj => {\n                  return (\n                    <IonCol key={obj.id}>\n                      <ShopItem item={obj} market_id={market_id} />\n                    </IonCol>\n                  );\n                })\n              ) : (\n                <p></p>\n              )}\n          </IonRow>\n        </IonGrid>\n        <Cart modal={showModal} closehandler={() => setShowModal(false)} />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default MarketItems;\n","import React from \"react\";\nimport { ShopSelectionListProps } from \"../model/ComponentProps\";\nimport {\n  IonList,\n  IonCard,\n  IonImg,\n  IonItem,\n  IonText\n} from \"@ionic/react\";\n\nconst ShopSelectionList: React.FC<ShopSelectionListProps> = ({\n  shops,\n  handleShopClick\n}) => {\n  console.log(shops);\n  return (\n    <IonList className=\"shop_selection\">\n      {shops.map(obj => {\n        return (\n          <IonCard\n            class=\"shop_card\"\n            onClick={() => {\n              handleShopClick(obj);\n            }}\n          >\n            <IonImg src={obj.img_url as string} alt={obj.name}></IonImg>\n            <IonItem lines=\"none\">\n              <IonText>Provide: </IonText>\n            </IonItem>\n            <IonItem lines=\"none\">\n              <IonText>{obj.service_offering}</IonText>\n            </IonItem>\n            <IonItem lines=\"none\">\n              <IonText>Terms: </IonText>\n            </IonItem>\n            <IonItem lines=\"none\">\n              <IonText>{obj.cut_off_terms}</IonText>\n            </IonItem>\n          </IonCard>\n        );\n      })}\n    </IonList>\n  );\n};\n\nexport default ShopSelectionList;\n","import {\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonMenuButton,\n  IonPage,\n  IonToolbar,\n  IonImg,\n  IonText,\n  IonLabel,\n  IonItem,\n} from \"@ionic/react\";\nimport React from \"react\";\nimport \"./Dashboard.css\";\nimport { useHistory } from \"react-router\";\nimport { useParams } from \"react-router-dom\";\nimport { useFirestoreConnect, FirestoreReducer } from \"react-redux-firebase\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ShopSelectionList from \"../containers/ShopSelectionList\";\nimport { RootState, Markets } from \"../model/DomainModels\";\nimport { setCurrentShop } from \"../reducers/ShopAction\";\n\nconst ShopSelection: React.FC = () => {\n  console.log(\"entering Dashboard\");\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const { postcode } = useParams<{ postcode: string }>();\n  const marketList: Array<Markets> = [];\n\n  function handleShopClick(shop: any) {\n    dispatch(setCurrentShop({ shop: shop }));\n    history.push(\"/tabs/market/\" + shop.id);\n  }\n\n  useFirestoreConnect([{ collection: \"Markets\" }]);\n\n  const markets = useSelector<RootState>(\n    state => state.firestore\n  ) as FirestoreReducer.Reducer;\n\n  if (markets.ordered.Markets && markets.ordered.Markets.length > 0) {\n    markets.ordered.Markets.forEach(market => {\n      if (postcode) {\n        if (market.support_postcodes && market.support_postcodes.length > 0) {\n          if (market.support_postcodes.includes(postcode)) {\n            marketList.push(market)\n          }\n        }\n      } else {\n        // marketList.push(market)\n      }\n    });\n\n  }\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"end\">\n            <IonMenuButton />\n          </IonButtons>\n        </IonToolbar>\n        <IonImg class=\"startmall_header \" src=\"/assets/icon/1x/logo2.png\" />\n      </IonHeader>\n      <IonText slot=\"right\">SHOP CAN DELIVERY TO YOUR AREA</IonText>\n      <IonContent fullscreen>\n        {marketList.length > 0 ? (\n          <ShopSelectionList\n            handleShopClick={handleShopClick}\n            shops={marketList}\n          />\n        ) : (\n            <p className=\"no_data_found\">No Data Found</p> \n          )}\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default ShopSelection;\n","import { SET_CURRENT_SHOP } from \"./Cart\";\nimport { ShopStateType } from \"../model/DomainModels\";\n\nexport function setCurrentShop(shop: ShopStateType) {\n  return {\n    type: SET_CURRENT_SHOP,\n    payload: shop\n  };\n}\n\n","import {\n  IonContent,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonBadge} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport \"./Market.css\";\nimport Cart from \"./Cart\";\nimport { connect, useSelector } from \"react-redux\";\nimport CategoryItem from \"./CategoryItem\";\nimport ShopHeader from \"../components/ShopHeader\";\nimport { useFirestoreConnect, FirestoreReducer } from \"react-redux-firebase\";\nimport { useParams } from \"react-router\";\nimport { RootState, Markets } from \"../model/DomainModels\";\nimport { CartState } from \"../services/FirebaseIniti\";\nimport MarketHeader from \"../components/MarketHeader\";\n\nconst Market: React.FC = () => {\n  const profile = useSelector<RootState>(state => state.firebase.profile)\nconsole.log (\"User Profile:\");\n  console.log (profile);\n  const { market_id } = useParams<{ market_id: string }>();\n  var shop = {} as Markets;\n  const [showModal, setShowModal] = useState(false);\n\n  const CartBadge: React.FC<CartState> = ({ cart }) => {\n    const cartSize = cart.cartItemList.length;\n    if (cartSize > 0) {\n      return <IonBadge color=\"danger\">{cart.cartItemList.length}</IonBadge>;\n    } else {\n      return <div></div>;\n    }\n  };\n\n  useFirestoreConnect([\n    { collection: \"Markets\", doc: market_id, storeAs: \"Market\" },\n    {\n      collection: \"Markets\",\n      doc: market_id,\n      subcollections: [\n        {\n          collection: \"Categories\"\n        }\n      ],\n      storeAs: \"Categories\"\n    }\n  ]);\n\n  const stateStore = useSelector<RootState>(\n    state => state.firestore\n  ) as FirestoreReducer.Reducer;\n\n  if (stateStore.ordered.Market && stateStore.ordered.Market.length > 0) {\n    stateStore.ordered.Market.map(tmarket => {\n      console.log(tmarket.name);\n      shop = tmarket;\n      return shop;\n    });\n  }\n\n  function mapStateToProps(state: CartState) {\n    const { firebase, cart, shop } = state;\n    return { firebase, cart, shop };\n  }\n  const CartCounter = connect(mapStateToProps)(CartBadge);\n  const ShopHeaderWithShop = connect(mapStateToProps)(ShopHeader);\n\n  return (\n    <IonPage>\n      <MarketHeader setShowModal={setShowModal} shop={shop} CartCounter={CartCounter}/>\n\n      <IonContent className=\"category\" fullscreen>\n        <ShopHeaderWithShop\n        />\n        <IonGrid>\n          <IonRow>\n            {stateStore.ordered.Categories &&\n            stateStore.ordered.Categories.length > 0 ? (\n              stateStore.ordered.Categories.map(obj => {\n                return (\n                  <IonCol key={obj.id}>\n                    <CategoryItem market_id={market_id} category={obj} />\n                  </IonCol>\n                );\n              })\n            ) : (\n              <p></p>\n            )}\n          </IonRow>\n        </IonGrid>\n        <Cart modal={showModal} closehandler={() => setShowModal(false)} />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Market;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  IonCard,\n  IonCardContent,\n  IonButton,\n  IonButtons,\n  IonLabel,\n  IonIcon,\n  IonItem,\n  IonHeader,\n  IonToolbar,\n  IonImg,\n  getPlatforms,\n  IonLoading,\n} from \"@ionic/react\";\nimport { logoFacebook, logoGoogle } from \"ionicons/icons\";\nimport { useFirebase, isLoaded, isEmpty } from \"react-redux-firebase\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../model/DomainModels\";\nimport { useHistory } from \"react-router-dom\";\nimport { cfaSignIn, mapUserToUserInfo } from \"capacitor-firebase-auth\";\nimport { UserInfo } from \"firebase/app\";\nimport { isPlatform } from \"@ionic/core\";\nimport { closeOutline } from \"ionicons/icons\";\nimport { PaymentRequestButtonElement, useStripe, CardElement, useElements } from '@stripe/react-stripe-js';\n\n\nconst ApplePay: React.FC = () => {\n\n  // interface PaymentRequest {\n    \n  // }\n\n  const [showLoading, setShowLoading] = useState(false);\n  let history = useHistory();\n  const stripe = useStripe();\n  const elements = useElements();\n \n  const [paymentRequest, setPaymentRequest] = useState(null);\n\n  const closehandler = async () => {\n    history.goBack();\n  };\n\n  useEffect(() => {\n    if (stripe) {\n      \n      const pr = stripe?.paymentRequest({\n        country: 'US',\n        currency: 'usd',\n        total: {\n          label: 'Demo total',\n          amount: 1099,\n        },\n        requestPayerName: true,\n        requestPayerEmail: true,\n      });\n      // Check the availability of the Payment Request API.\n      pr?.canMakePayment().then(result => {\n        if (result && pr) {\n          // setPaymentRequest(pr);\n        }\n      });\n    }\n  }, [stripe]);\n\n  \n\n\n  const payWithStripe = async () => {\n    // Block native form submission.\n    // event.preventDefault();\n\n    if (!stripe || !elements) {\n      // Stripe.js has not loaded yet. Make sure to disable\n      // form submission until Stripe.js has loaded.\n      return;\n    }\n\n\n    // Get a reference to a mounted CardElement. Elements knows how\n    // to find your CardElement because there can only ever be one of\n    // each type of element.\n    const cardElement = elements.getElement(CardElement);\n\n    // Use your card Element with other Stripe.js APIs\n\n    if (cardElement) {\n      const { error, paymentMethod } = await stripe.createPaymentMethod({\n        'type': 'card',\n        card: cardElement,\n      });\n\n\n      if (error) {\n        console.log('[error]', error);\n      } else {\n        console.log('[PaymentMethod]', JSON.stringify(paymentMethod));\n      }\n    } else {\n      console.log(\"Card Element is not available\")\n    }\n\n  }\n\n\n\n  return (\n    <IonPage>\n      <IonToolbar color=\"secondary\">\n        <IonButtons slot=\"end\">\n          <IonButton onClick={closehandler}>\n            <IonIcon\n              size=\"large\"\n              slot=\"icon-only\"\n              icon={closeOutline}\n            ></IonIcon>\n          </IonButton>\n        </IonButtons>\n      </IonToolbar>\n      <IonContent>\n        {/* {\n          paymentRequest && paymentRequest != null\n            ? <PaymentRequestButtonElement options={{paymentRequest}} />\n          :null\n        } */}\n        <form onSubmit={payWithStripe}>\n          \n          <CardElement />\n          <IonButton\n            color=\"google\"\n            fill=\"solid\"\n            shape=\"round\"\n            className=\"wechat_button\"\n            onClick={payWithStripe}\n          >\n            Apple Pay\n          </IonButton>\n        </form>\n        <IonLoading\n          isOpen={showLoading}\n          onDidDismiss={() => setShowLoading(false)}\n          message={\"Please wait...\"}\n          duration={5000}\n        />\n        <br></br>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default ApplePay;\n","import React, { ComponentType, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Route, Redirect, RouteProps, useLocation } from \"react-router\";\nimport { isLoaded, isEmpty } from \"react-redux-firebase\";\nimport { RootState } from \"../model/DomainModels\";\n\n// A wrapper for <Route> that redirects to the login\n// screen if you're not yet authenticated or if auth is not\n// yet loaded\n\nexport interface ProtectedRouteProps extends RouteProps {\n  isAuthenticated: boolean;\n  isAllowed: boolean;\n  restrictedPath: string;\n  authenticationPath: string;\n}\n\n// const test: ProtectedRouteProps = {\n//   isAuthenticated: false,\n//   isAllowed: false,\n//   restrictedPath: \"string;\",\n//   authenticationPath: \"string;\"\n// };\n\nexport function getDefaultProtectedRouteProps() {\n\n  const defaultProtectedRouteProps: ProtectedRouteProps = {\n    isAuthenticated: false,\n    isAllowed: true,\n    authenticationPath: \"/login\",\n    restrictedPath: \"\"\n  };\n  return defaultProtectedRouteProps;\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = props => {\n\n  const currentLocation = useLocation();\n  const auth = useSelector<RootState>(state => state.firebase.auth);\n  var isAuthenticated = isLoaded(auth) && !isEmpty(auth as any);\n\n  console.log(\"Redirecting to others site\");\n  let redirectPath = \"\";\n  if (!isAuthenticated && currentLocation.pathname != props.authenticationPath) {\n    redirectPath = props.authenticationPath;\n    console.log(\"Not Authenticate.. redirecting to \" + redirectPath);\n  }\n  if (isAuthenticated && !props.isAllowed) {\n    redirectPath = currentLocation.pathname;\n    console.log(\" Authenticated.. redirecting to \" + redirectPath);\n  }\n\n  if (redirectPath) {\n    const renderComponent = () => <Redirect to={{ pathname: redirectPath }} />;\n    return <Route {...props} component={renderComponent} render={undefined} />;\n  } else {\n    return <Route {...props} />;\n  }\n};\n\n\nexport default ProtectedRoute;\n\n// firebase.auth().onAuthStateChanged(function(user) {\n//   if (user) {\n//     // User is signed in.\n//     var isAnonymous = user.isAnonymous;\n//     var uid = user.uid;\n//     var userRef = app.dataInfo.child(app.users);\n\n//     var useridRef = userRef.child(app.userid);\n\n//     useridRef.set({\n//       locations: \"\",\n//       theme: \"\",\n//       colorScheme: \"\",\n//       food: \"\"\n//     });\n\n//   } else {\n//     // User is signed out.\n//     // ...\n//   }\n//   // ...\n// });\n\n// export const PrivateRoute: Route<RouteProps> = ({children, ...rest }) => {\n//   const auth = useSelector<RootState>(state => state.firebase.auth);\n//   return (\n//     <Route\n//       {...rest}\n//       render={({ location }) =>\n//         isLoaded(auth) && !isEmpty(auth as any) ? (\n//           children\n//         ) : (\n//           <Redirect\n//             to={{\n//               pathname: \"/login\",\n//               state: { from: location }\n//             }}\n//           />\n//         )\n//       }\n//     />\n//   );\n// };\n\n// export const PrivateRoute2: React.SFC<RouteProps> = ({\n//   component: Component,\n//   ...rest\n// }: {\n//   component: ComponentType<RouteProps>;\n// }) => {\n//   const auth = useSelector<RootState>(state => state.firebase.auth);\n\n//   return (\n//     <Route\n//       {...rest}\n//       render={props =>\n//         isLoaded(auth) && !isEmpty(auth as any) ? (\n//           <Component {...props} />\n//         ) : (\n//           <Redirect to=\"/login\" />\n//         )\n//       }\n//     />\n//   );\n// };\n","import Menu from \"./components/Menu\";\nimport Page from \"./pages/Page\";\nimport React from \"react\";\nimport { IonApp, IonRouterOutlet, IonSplitPane } from \"@ionic/react\";\nimport { IonReactRouter } from \"@ionic/react-router\";\nimport { Redirect, Route } from \"react-router-dom\";\n\n/* Core CSS required for Ionic components to work properly */\nimport \"@ionic/react/css/core.css\";\n\n/* Basic CSS for apps built with Ionic */\nimport \"@ionic/react/css/normalize.css\";\nimport \"@ionic/react/css/structure.css\";\nimport \"@ionic/react/css/typography.css\";\n\n/* Optional CSS utils that can be commented out */\nimport \"@ionic/react/css/padding.css\";\nimport \"@ionic/react/css/float-elements.css\";\nimport \"@ionic/react/css/text-alignment.css\";\nimport \"@ionic/react/css/text-transformation.css\";\nimport \"@ionic/react/css/flex-utils.css\";\nimport \"@ionic/react/css/display.css\";\n/* Theme variables */\nimport \"./theme/variables.css\";\nimport MainTabs from \"./components/MainTabs\";\nimport Checkout from \"./pages/Checkout\";\nimport Dashboard from \"./pages/Dashboard\";\nimport ShopMain from \"./containers/ShopMain\";\nimport OrderComplete from \"./pages/OrderComplete\";\nimport Login from \"./pages/Login\";\nimport StripeComponent from \"./services/Stripe\";\nimport MarketItems from \"./containers/MarketItems\";\nimport ShopSelection from \"./pages/ShopSelection\";\nimport Market from \"./containers/Market\";\nimport ApplePay from './pages/ApplePay';\nimport ProtectedRoute, { getDefaultProtectedRouteProps } from \"./services/FirebaseAuth\";\n\nconst App: React.FC = () => {\n  console.log(\"entering app\");\n  // function MobileCheck() {\n  //   let check = false;\n  //   (function(a) {\n  //     if (\n  //       /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n  //         a\n  //       ) ||\n  //       /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n  //         a.substr(0, 4)\n  //       )\n  //     )\n  //       check = true;\n  //   })(navigator.userAgent || navigator.vendor);\n  //   return check;\n  // }\n  // if (MobileCheck()) {\n  //   return (\n  //     <IonApp>                                             \n  //       <IonReactRouter>\n  //         <Route component={NonSupport} />\n  //       </IonReactRouter>\n  //     </IonApp>\n  //   );\n  // } else {\n  // return (\n  //   <IonApp>\n  //     <IonReactRouter>\n  //       <IonSplitPane contentId=\"main\">\n  //         <Menu />\n  //         <IonRouterOutlet id=\"main\">                       \n  //           <Route path=\"/page/checkout\" component={Checkout} exact={true} />\n  //           <Route path=\"/tabs\" component={MainTabs} exact />\n  //           <Route path=\"/landing\" component={Dashboard} exact />\n  //           {/* <ProtectedRoute {...defaultProtectedRouteProps}  path=\"/shop_selections\" component={ShopSelection} exact /> */}\n  //           <Route path=\"/login\" component={Login} exact />\n  //           <Route path=\"/orders\" component={OrderComplete} exact />\n  //           <Route path=\"/shop/:name/categories\" component={ShopMain} exact />\n  //           <Route path=\"/page/:name\" component={Page} exact />\n  //           <Redirect from=\"/\" to=\"/tabs\" exact />\n  //         </IonRouterOutlet>\n  //       </IonSplitPane>\n  //     </IonReactRouter>\n  //   </IonApp>\n  // );\n  const defaultProtectedRouteProps = getDefaultProtectedRouteProps();\n  return (\n    <IonApp>\n      <IonReactRouter>\n        <IonSplitPane contentId=\"main\">\n          <Menu />\n          <IonRouterOutlet id=\"main\">\n            <Route path=\"/page/applepay\" component={ApplePay} exact={true} />\n            <ProtectedRoute  {...defaultProtectedRouteProps}  path=\"/page/checkout\" component={Checkout} exact={true} />\n            <Route path=\"/tabs\" component={MainTabs} exact />\n            <Route path=\"/landing\" component={Dashboard} exact />\n            {/* <ProtectedRoute {...defaultProtectedRouteProps}  path=\"/shop_selections\" component={ShopSelection} exact /> */}\n            <Route path=\"/login\" component={Login} exact />\n            <Route path=\"/stripe\" component={StripeComponent} exact />\n            <Route path=\"/orders/:invoice_id\" component={OrderComplete} exact />\n            <Route path=\"/shop/:name/categories\" component={ShopMain} exact />\n            <Route\n              animated={false}\n              path=\"/tabs/dashboard\"\n              render={() => <Dashboard />}\n              exact={true}\n            />\n            <Route\n              path=\"/tabs/market/:market_id/:tab(item_list)/:category_id\"\n              render={() => <MarketItems cname=\"\" />}\n            />\n            <Route\n              path=\"/tabs/:tab(shop_selections)/:postcode\"\n              render={() => <ShopSelection />}\n              exact={true}\n            />\n            <Route\n              path=\"/tabs/:tab(market)/:market_id\"\n              render={() => <Market />}\n              exact={true}\n            />\n            <Route path=\"/page/:name\" component={Page} exact />\n            <Redirect from=\"/\" to=\"/tabs/dashboard\" exact />\n            \n          </IonRouterOutlet>\n        </IonSplitPane>\n      </IonReactRouter>\n    </IonApp>\n  );\n}\n// };\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'firebase/auth'\nimport 'firebase/firestore' // <- needed if using firestore\nimport { createStore, combineReducers } from 'redux'\nimport { firebaseReducer } from 'react-redux-firebase'\nimport { createFirestoreInstance, firestoreReducer } from 'redux-firestore' // <- needed if using firestore\nimport firebase from 'firebase';\nimport { RootState } from '../model/DomainModels';\nimport { cartReducer, shopReducer } from '../reducers/Cart';\nimport addressReducer from '../reducers/Address';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCQyvVWaa4R-FxZ05zGSktssnKtwGtRLa8\",\n  authDomain: \"slashiee.firebaseapp.com\",\n  databaseURL: \"https://slashiee.firebaseio.com\",\n  projectId: \"slashiee\",\n  storageBucket: \"slashiee.appspot.com\",\n  messagingSenderId: \"326027994327\",\n  appId: \"1:326027994327:web:5a227f71ef8b92ca523c92\",\n  measurementId: \"G-9DBHG304Z8\",\n  enableRedirectHandling: false\n}\n\n// 255334572519\n\n// react-redux-firebase config\nconst rrfConfig = {\n  userProfile: 'users',\n  presence: 'presence',\n  sessions: 'sessions',\n  markets: 'Markets'\n  // useFirestoreForProfile: true // Firestore for Profile instead of Realtime DB\n}\n\n// Initialize firebase instance\nfirebase.initializeApp(firebaseConfig)\n\n// Initialize other services on firebase instance\nfirebase.firestore() // <- needed if using firestore\n\n// Add firebase to reducers\nconst rootReducer = combineReducers<RootState>({\n  firebase: firebaseReducer,\n  firestore: firestoreReducer as any,\n  cart: cartReducer,\n  shop: shopReducer,\n  address: addressReducer\n})\n\nconst localReducer = combineReducers({\n  firebase: firebaseReducer,\n  cart: cartReducer,\n  shop: shopReducer,\n  address: addressReducer\n})\n\n// Create store with reducers and initial state\nconst initialState = {}\nexport const firebaseStore = createStore(rootReducer, initialState)\n\nexport type CartState = ReturnType<typeof localReducer>;\n\nconst rrfProps = {\n  firebase,\n  config: rrfConfig,\n  dispatch: firebaseStore.dispatch,\n  createFirestoreInstance // <- needed if using firestore\n}\n\nexport default rrfProps;","import React, { } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"react-redux\";\nimport { ReactReduxFirebaseProvider } from \"react-redux-firebase\";\nimport rrfProps, { firebaseStore } from \"./services/FirebaseIniti\";\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\n\n// type Props ={\n//   children: ReactNode\n// }                \n\n// const AuthIsLoaded : Component<Props> = ({children = {}}) => {\n\n//       const auth = useSelector<RootState>(\n//         state => state.firebase.auth\n//       ) as FirestoreReducer.Reducer;\n//       if (!isLoaded(auth)) return <div>splash screen...</div>;\n//       return {children};\n// }\n\n\n// // A wrapper for <Route> that redirects to the login\n// // screen if you're not yet authenticated or if auth is not\n// // yet loaded\n// export const PrivateRoute: React.FC = ({ children, ...rest })  =>{\n//   const auth = useSelector<RootState>(state => state.firebase.auth)\n//   return (\n//     <Route\n//       {...rest}\n//       render={({ location }) =>\n//         isLoaded(auth) && !isEmpty(auth) ? (\n//           children\n//         ) : (\n//           <Redirect\n//             to={{\n//               pathname: \"/login\",\n//               state: { from: location }\n//             }}\n//           />\n//         )\n//       }\n//     />\n//   );\n// }\n\n// Make sure to call `loadStripe` outside of a component’s render to avoid\n// recreating the `Stripe` object on every render.\nconst stripeKey = \"pk_test_YC0gcyGppNgDEzsD5FxBzPXJ00nUQJqCvw\";\n \nconst stripePromise = loadStripe(stripeKey);\n\nReactDOM.render(\n  <Elements stripe={stripePromise} >\n    <Provider store={firebaseStore}>\n      <ReactReduxFirebaseProvider {...rrfProps}>\n        <App />\n      </ReactReduxFirebaseProvider>\n    </Provider>\n  </Elements>,\n\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}